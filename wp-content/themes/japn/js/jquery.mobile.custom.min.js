/*! jQuery Mobile v1.4.5 | Copyright 2010, 2014 jQuery Foundation, Inc. | jquery.org/license */

!function(e,t,i){"function"==typeof define&&define.amd?define(["jquery"],function(n){return i(n,e,t),n.mobile}):i(e.jQuery,e,t)}(this,document,function(e,t,i,n){!function(e,t,n){"$:nomunge";function o(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var a,s="hashchange",r=i,l=e.event.special,h=r.documentMode,c="on"+s in t&&(void 0===h||h>7);e.fn[s]=function(e){return e?this.bind(s,e):this.trigger(s)},e.fn[s].delay=50,l[s]=e.extend(l[s],{setup:function(){if(c)return!1;e(a.start)},teardown:function(){if(c)return!1;e(a.stop)}}),a=function(){function i(){var a=o(),r=d(l);a!==l?(u(l=a,r),e(t).trigger(s)):r!==l&&(location.href=location.href.replace(/#.*/,"")+r),n=setTimeout(i,e.fn[s].delay)}var n,a={},l=o(),h=function(e){return e},u=h,d=h;return a.start=function(){n||i()},a.stop=function(){n&&clearTimeout(n),n=void 0},t.attachEvent&&!t.addEventListener&&!c&&function(){var t,n;a.start=function(){t||(n=e.fn[s].src,n=n&&n+o(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){n||u(o()),i()}).attr("src",n||"javascript:0").insertAfter("body")[0].contentWindow,r.onpropertychange=function(){try{"title"===event.propertyName&&(t.document.title=r.title)}catch(e){}})},a.stop=h,d=function(){return o(t.location.href)},u=function(i,n){var o=t.document,a=e.fn[s].domain;i!==n&&(o.title=r.title,o.open(),a&&o.write('<script>document.domain="'+a+'"<\/script>'),o.close(),t.location.hash=i)}}(),a}()}(e,this),function(e){e.mobile={}}(e),function(e,t,i){e.extend(e.mobile,{version:"1.4.5",subPageUrlKey:"ui-page",hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:0,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,buttonMarkup:{hoverDelay:200},dynamicBaseEnabled:!0,pageContainer:e(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})}(e),function(e,t,i){var n={},o=e.find,a=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,s=/:jqmData\(([^)]*)\)/g;e.extend(e.mobile,{ns:"",getAttribute:function(t,i){var n;(t=t.jquery?t[0]:t)&&t.getAttribute&&(n=t.getAttribute("data-"+e.mobile.ns+i));try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:a.test(n)?JSON.parse(n):n)}catch(e){}return n},nsNormalizeDict:n,nsNormalize:function(t){return n[t]||(n[t]=e.camelCase(e.mobile.ns+t))},closestPageData:function(e){return e.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),e.fn.jqmData=function(t,i){var n;return void 0!==t&&(t&&(t=e.mobile.nsNormalize(t)),n=arguments.length<2||void 0===i?this.data(t):this.data(t,i)),n},e.jqmData=function(t,i,n){var o;return void 0!==i&&(o=e.data(t,i?e.mobile.nsNormalize(i):i,n)),o},e.fn.jqmRemoveData=function(t){return this.removeData(e.mobile.nsNormalize(t))},e.jqmRemoveData=function(t,i){return e.removeData(t,e.mobile.nsNormalize(i))},e.find=function(t,i,n,a){return t.indexOf(":jqmData")>-1&&(t=t.replace(s,"[data-"+(e.mobile.ns||"")+"$1]")),o.call(this,t,i,n,a)},e.extend(e.find,o)}(e),function(e,t){function n(t,i){var n,a,s,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,!(!t.href||!a||"map"!==n.nodeName.toLowerCase())&&(!!(s=e("img[usemap=#"+a+"]")[0])&&o(s))):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||i:i)&&o(t)}function o(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var a=0,s=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"c0ab71056b936627e8a7821f03c044aec6280a40",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(this[0].ownerDocument||i):t},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),o=isNaN(i);return(o||i>=0)&&n(t,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function n(t,i,n,a){return e.each(o,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var o="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?s["inner"+i].call(this):this.each(function(){e(this).css(a,n(this,t)+"px")})},e.fn["outer"+i]=function(t,o){return"number"!=typeof t?s["outer"+i].call(this,t):this.each(function(){e(this).css(a,n(this,t,!0,o)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in i.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,o,a=e(this[0]);a.length&&a[0]!==i;){if(("absolute"===(n=a.css("position"))||"relative"===n||"fixed"===n)&&(o=parseInt(a.css("zIndex"),10),!isNaN(o)&&0!==o))return o;a=a.parent()}return 0}}),e.ui.plugin={add:function(t,i,n){var o,a=e.ui[t].prototype;for(o in n)a.plugins[o]=a.plugins[o]||[],a.plugins[o].push([i,n[o]])},call:function(e,t,i,n){var o,a=e.plugins[t];if(a&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<a.length;o++)e.options[a[o][0]]&&a[o][1].apply(e.element,i)}}}(e),function(e,t,n){var o=function(t,i){var n=t.parent(),o=[],a=function(){var t=e(this),i=e.mobile.toolbar&&t.data("mobile-toolbar")?t.toolbar("option"):{position:t.attr("data-"+e.mobile.ns+"position"),updatePagePadding:!1!==t.attr("data-"+e.mobile.ns+"update-page-padding")};return!("fixed"===i.position&&!0===i.updatePagePadding)},s=n.children(":jqmData(role='header')").filter(a),r=t.children(":jqmData(role='header')"),l=n.children(":jqmData(role='footer')").filter(a),h=t.children(":jqmData(role='footer')");return 0===r.length&&s.length>0&&(o=o.concat(s.toArray())),0===h.length&&l.length>0&&(o=o.concat(l.toArray())),e.each(o,function(t,n){i-=e(n).outerHeight()}),Math.max(0,i)};e.extend(e.mobile,{window:e(t),document:e(i),keyCode:e.ui.keyCode,behaviors:{},silentScroll:function(i){"number"!==e.type(i)&&(i=e.mobile.defaultHomeScroll),e.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,i),e.mobile.document.trigger("silentscroll",{x:0,y:i})},20),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},getClosestBaseUrl:function(t){var i=e(t).closest(".ui-page").jqmData("url"),n=e.mobile.path.documentBase.hrefNoHash;return e.mobile.dynamicBaseEnabled&&i&&e.mobile.path.isPath(i)||(i=n),e.mobile.path.makeUrlAbsolute(i,n)},removeActiveLinkClass:function(t){!e.mobile.activeClickedLink||e.mobile.activeClickedLink.closest("."+e.mobile.activePageClass).length&&!t||e.mobile.activeClickedLink.removeClass(e.mobile.activeBtnClass),e.mobile.activeClickedLink=null},getInheritedTheme:function(e,t){for(var i,n,o=e[0],a="",s=/ui-(bar|body|overlay)-([a-z])\b/;o&&!((i=o.className||"")&&(n=s.exec(i))&&(a=n[2]));)o=o.parentNode;return a||t||"a"},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(t,i){if(!e.mobile.ignoreContentEnabled)return t;var n,o,a,s,r=t.length,l=e();for(s=0;s<r;s++){for(o=t.eq(s),a=!1,n=t[s];n;){if("false"===(n.getAttribute?n.getAttribute("data-"+e.mobile.ns+i):"")){a=!0;break}n=n.parentNode}a||(l=l.add(o))}return l},getScreenHeight:function(){return t.innerHeight||e.mobile.window.height()},resetActivePageHeight:function(t){var i=e("."+e.mobile.activePageClass),n=i.height(),a=i.outerHeight(!0);t=o(i,"number"==typeof t?t:e.mobile.getScreenHeight()),i.css("min-height",""),i.height()<t&&i.css("min-height",t-(a-n))},loading:function(){var t=this.loading._widget||e(e.mobile.loader.prototype.defaultHtml).loader(),i=t.loader.apply(t,arguments);return this.loading._widget=t,i}}),e.addDependents=function(t,i){var n=e(t),o=n.jqmData("dependents")||e();n.jqmData("dependents",e(o).add(i))},e.fn.extend({removeWithDependents:function(){e.removeWithDependents(this)},enhanceWithin:function(){var t,i={},n=e.mobile.page.prototype.keepNativeSelector(),o=this;e.mobile.nojs&&e.mobile.nojs(this),e.mobile.links&&e.mobile.links(this),e.mobile.degradeInputsWithin&&e.mobile.degradeInputsWithin(this),e.fn.buttonMarkup&&this.find(e.fn.buttonMarkup.initSelector).not(n).jqmEnhanceable().buttonMarkup(),e.fn.fieldcontain&&this.find(":jqmData(role='fieldcontain')").not(n).jqmEnhanceable().fieldcontain(),e.each(e.mobile.widgets,function(t,a){if(a.initSelector){var s=e.mobile.enhanceable(o.find(a.initSelector));s.length>0&&(s=s.not(n)),s.length>0&&(i[a.prototype.widgetName]=s)}});for(t in i)i[t][t]();return this},addDependents:function(t){e.addDependents(this,t)},getEncodedText:function(){return e("<a>").text(this.text()).html()},jqmEnhanceable:function(){return e.mobile.enhanceable(this)},jqmHijackable:function(){return e.mobile.hijackable(this)}}),e.removeWithDependents=function(t){var i=e(t);(i.jqmData("dependents")||e()).remove(),i.remove()},e.addDependents=function(t,i){var n=e(t),o=n.jqmData("dependents")||e();n.jqmData("dependents",e(o).add(i))},e.find.matches=function(t,i){return e.find(t,null,null,i)},e.find.matchesSelector=function(t,i){return e.find(i,null,null,[t]).length>0}}(e,this),function(e,n){t.matchMedia=t.matchMedia||function(e,t){var i,n=e.documentElement,o=n.firstElementChild||n.firstChild,a=e.createElement("body"),s=e.createElement("div");return s.id="mq-test-1",s.style.cssText="position:absolute;top:-100em",a.style.background="none",a.appendChild(s),function(e){return s.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(a,o),i=42===s.offsetWidth,n.removeChild(a),{matches:i,media:e}}}(i),e.mobile.media=function(e){return t.matchMedia(e).matches}}(e),function(e,t){var n={touch:"ontouchend"in i};e.mobile.support=e.mobile.support||{},e.extend(e.support,n),e.extend(e.mobile.support,n)}(e),function(e,i){e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t})}(e),function(e,n){function o(e){var t,i=e.charAt(0).toUpperCase()+e.substr(1),o=(e+" "+h.join(i+" ")+i).split(" ");for(t in o)if(l[o[t]]!==n)return!0}function a(){var i=t,n=!(!i.document.createElementNS||!i.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||i.opera&&-1===navigator.userAgent.indexOf("Chrome")),o=function(t){t&&n||e("html").addClass("ui-nosvg")},a=new i.Image;a.onerror=function(){o(!1)},a.onload=function(){o(1===a.width&&1===a.height)},a.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}var s,r=e("<body>").prependTo("html"),l=r[0].style,h=["Webkit","Moz","O"],c="palmGetResource"in t,u=t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini),d=t.blackberry&&!o("-webkit-transform");e.extend(e.mobile,{browser:{}}),e.mobile.browser.oldIE=function(){var e=3,t=i.createElement("div"),n=t.all||[];do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><br><![endif]--\x3e"}while(n[0]);return e>4?e:!e}(),e.extend(e.support,{pushState:"pushState"in history&&"replaceState"in history&&!(t.navigator.userAgent.indexOf("Firefox")>=0&&t.top!==t)&&-1===t.navigator.userAgent.search(/CriOS/),mediaquery:e.mobile.media("only all"),cssPseudoElement:!!o("content"),touchOverflow:!!o("overflowScrolling"),cssTransform3d:function(){var o,a,s,l="transform-3d",c=e.mobile.media("(-"+h.join("-"+l+"),(-")+"-"+l+"),("+l+")");if(c)return!!c;o=i.createElement("div"),a={MozTransform:"-moz-transform",transform:"transform"},r.append(o);for(s in a)o.style[s]!==n&&(o.style[s]="translate3d( 100px, 1px, 1px )",c=t.getComputedStyle(o).getPropertyValue(a[s]));return!!c&&"none"!==c}(),boxShadow:!!o("boxShadow")&&!d,fixedPosition:function(){var e=t,i=navigator.userAgent,n=navigator.platform,o=i.match(/AppleWebKit\/([0-9]+)/),a=!!o&&o[1],s=i.match(/Fennec\/([0-9]+)/),r=!!s&&s[1],l=i.match(/Opera Mobi\/([0-9]+)/),h=!!l&&l[1];return!((n.indexOf("iPhone")>-1||n.indexOf("iPad")>-1||n.indexOf("iPod")>-1)&&a&&a<534||e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)||l&&h<7458||i.indexOf("Android")>-1&&a&&a<533||r&&r<6||"palmGetResource"in t&&a&&a<534||i.indexOf("MeeGo")>-1&&i.indexOf("NokiaBrowser/8.5.0")>-1)}(),scrollTop:("pageXOffset"in t||"scrollTop"in i.documentElement||"scrollTop"in r[0])&&!c&&!u,dynamicBaseTag:function(){var t,i,n=location.protocol+"//"+location.host+location.pathname+"ui-dir/",o=e("head base"),a=null,s="";return o.length?s=o.attr("href"):o=a=e("<base>",{href:n}).appendTo("head"),t=e("<a href='testurl' />").prependTo(r),i=t[0].href,o[0].href=s||location.pathname,a&&a.remove(),0===i.indexOf(n)}(),cssPointerEvents:function(){var e,n=i.createElement("x"),o=i.documentElement,a=t.getComputedStyle;return"pointerEvents"in n.style&&(n.style.pointerEvents="auto",n.style.pointerEvents="x",o.appendChild(n),e=a&&"auto"===a(n,"").pointerEvents,o.removeChild(n),!!e)}(),boundingRect:function(){return void 0!==i.createElement("div").getBoundingClientRect}(),inlineSVG:a}),r.remove(),s=function(){var e=t.navigator.userAgent;return e.indexOf("Nokia")>-1&&(e.indexOf("Symbian/3")>-1||e.indexOf("Series60/5")>-1)&&e.indexOf("AppleWebKit")>-1&&e.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),e.mobile.gradeA=function(){return(e.support.mediaquery&&e.support.cssPseudoElement||e.mobile.browser.oldIE&&e.mobile.browser.oldIE>=8)&&(e.support.boundingRect||null!==e.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},e.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||u||s,s&&e(function(){e("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),e.support.boxShadow||e("html").addClass("ui-noboxshadow")}(e),function(e,t){var i,n=e.mobile.window,o=function(){};e.event.special.beforenavigate={setup:function(){n.on("navigate",o)},teardown:function(){n.off("navigate",o)}},e.event.special.navigate=i={bound:!1,pushStateEnabled:!0,originalEventName:void 0,isPushStateEnabled:function(){return e.support.pushState&&!0===e.mobile.pushStateEnabled&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return!0===e.mobile.hashListeningEnabled},popstate:function(t){var i=new e.Event("navigate"),o=new e.Event("beforenavigate"),a=t.originalEvent.state||{};o.originalEvent=t,n.trigger(o),o.isDefaultPrevented()||(t.historyState&&e.extend(a,t.historyState),i.originalEvent=t,setTimeout(function(){n.trigger(i,{state:a})},0))},hashchange:function(t){var i=new e.Event("navigate"),o=new e.Event("beforenavigate");o.originalEvent=t,n.trigger(o),o.isDefaultPrevented()||(i.originalEvent=t,n.trigger(i,{state:t.hashchangeState||{}}))},setup:function(){i.bound||(i.bound=!0,i.isPushStateEnabled()?(i.originalEventName="popstate",n.bind("popstate.navigate",i.popstate)):i.isHashChangeEnabled()&&(i.originalEventName="hashchange",n.bind("hashchange.navigate",i.hashchange)))}}}(e),function(e){e.event.special.throttledresize={setup:function(){e(this).bind("resize",o)},teardown:function(){e(this).unbind("resize",o)}};var t,i,n,o=function(){i=(new Date).getTime(),n=i-a,n>=250?(a=i,e(this).trigger("throttledresize")):(t&&clearTimeout(t),t=setTimeout(o,250-n))},a=0}(e),function(e,t){function n(){var e=o();e!==a&&(a=e,u.trigger(d))}var o,a,s,r,l,h,c,u=e(t),d="orientationchange",p={0:!0,180:!0};e.support.orientation&&(l=t.innerWidth||u.width(),h=t.innerHeight||u.height(),c=50,s=l>h&&l-h>c,r=p[t.orientation],(s&&r||!s&&!r)&&(p={"-90":!0,90:!0})),e.event.special.orientationchange=e.extend({},e.event.special.orientationchange,{setup:function(){if(e.support.orientation&&!e.event.special.orientationchange.disabled)return!1;a=o(),u.bind("throttledresize",n)},teardown:function(){if(e.support.orientation&&!e.event.special.orientationchange.disabled)return!1;u.unbind("throttledresize",n)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=o(),t.apply(this,arguments)}}}),e.event.special.orientationchange.orientation=o=function(){var n=!0,o=i.documentElement;return n=e.support.orientation?p[t.orientation]:o&&o.clientWidth/o.clientHeight<1.1,n?"portrait":"landscape"},e.fn[d]=function(e){return e?this.bind(d,e):this.trigger(d)},e.attrFn&&(e.attrFn[d]=!0)}(e,this),function(e,t,i,n){function o(e){for(;e&&void 0!==e.originalEvent;)e=e.originalEvent;return e}function a(t,i){var a,s,r,l,h,c,u,d,p,m=t.type;if(t=e.Event(t),t.type=i,a=t.originalEvent,s=e.event.props,m.search(/^(mouse|click)/)>-1&&(s=S),a)for(u=s.length,l;u;)l=s[--u],t[l]=a[l];if(m.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==m.search(/^touch/)&&(r=o(a),m=r.touches,h=r.changedTouches,c=m&&m.length?m[0]:h&&h.length?h[0]:n))for(d=0,p=k.length;d<p;d++)l=k[d],t[l]=c[l];return t}function s(t){for(var i,n,o={};t;){i=e.data(t,T);for(n in i)i[n]&&(o[n]=o.hasVirtualBinding=!0);t=t.parentNode}return o}function r(t,i){for(var n;t;){if((n=e.data(t,T))&&(!i||n[i]))return t;t=t.parentNode}return null}function l(){j=!1}function h(){j=!0}function c(){F=0,q.length=0,I=!1,h()}function u(){l()}function d(){p(),N=setTimeout(function(){N=0,c()},e.vmouse.resetTimerDuration)}function p(){N&&(clearTimeout(N),N=0)}function m(t,i,n){var o;return(n&&n[t]||!n&&r(i.target,t))&&(o=a(i,t),e(i.target).trigger(o)),o}function f(t){var i,n=e.data(t.target,P);I||F&&F===n||(i=m("v"+t.type,t))&&(i.isDefaultPrevented()&&t.preventDefault(),i.isPropagationStopped()&&t.stopPropagation(),i.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}function g(t){var i,n,a,r=o(t).touches;r&&1===r.length&&(i=t.target,n=s(i),n.hasVirtualBinding&&(F=M++,e.data(i,P,F),p(),u(),L=!1,a=o(t).touches[0],B=a.pageX,H=a.pageY,m("vmouseover",t,n),m("vmousedown",t,n)))}function v(e){j||(L||m("vmousecancel",e,s(e.target)),L=!0,d())}function b(t){if(!j){var i=o(t).touches[0],n=L,a=e.vmouse.moveDistanceThreshold,r=s(t.target);L=L||Math.abs(i.pageX-B)>a||Math.abs(i.pageY-H)>a,L&&!n&&m("vmousecancel",t,r),m("vmousemove",t,r),d()}}function _(e){if(!j){h();var t,i,n=s(e.target);m("vmouseup",e,n),L||(t=m("vclick",e,n))&&t.isDefaultPrevented()&&(i=o(e).changedTouches[0],q.push({touchID:F,x:i.clientX,y:i.clientY}),I=!0),m("vmouseout",e,n),L=!1,d()}}function y(t){var i,n=e.data(t,T);if(n)for(i in n)if(n[i])return!0;return!1}function C(){}var w,x,T="virtualMouseBindings",P="virtualTouchID",D="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),k="clientX clientY pageX pageY screenX screenY".split(" "),E=e.event.mouseHooks?e.event.mouseHooks.props:[],S=e.event.props.concat(E),A={},N=0,B=0,H=0,L=!1,q=[],I=!1,j=!1,O="addEventListener"in i,U=e(i),M=1,F=0;for(e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},x=0;x<D.length;x++)e.event.special[D[x]]=function(t){var i=t.substr(1);return{setup:function(){y(this)||e.data(this,T,{}),e.data(this,T)[t]=!0,A[t]=(A[t]||0)+1,1===A[t]&&U.bind(i,f),e(this).bind(i,C),O&&(A.touchstart=(A.touchstart||0)+1,1===A.touchstart&&U.bind("touchstart",g).bind("touchend",_).bind("touchmove",b).bind("scroll",v))},teardown:function(){--A[t],A[t]||U.unbind(i,f),O&&(--A.touchstart||U.unbind("touchstart",g).unbind("touchmove",b).unbind("touchend",_).unbind("scroll",v));var n=e(this),o=e.data(this,T);o&&(o[t]=!1),n.unbind(i,C),y(this)||n.removeData(T)}}}(D[x]);O&&i.addEventListener("click",function(t){var i,n,o,a,s,r=q.length,l=t.target;if(r)for(i=t.clientX,n=t.clientY,w=e.vmouse.clickDistanceThreshold,o=l;o;){for(a=0;a<r;a++)if(s=q[a],0,o===l&&Math.abs(s.x-i)<w&&Math.abs(s.y-n)<w||e.data(o,P)===s.touchID)return t.preventDefault(),void t.stopPropagation();o=o.parentNode}},!0)}(e,0,i),function(e,t,n){function o(t,i,o,a){var s=o.type;o.type=i,a?e.event.trigger(o,n,t):e.event.dispatch.call(t,o),o.type=s}var a=e(i),s=e.mobile.support.touch,r=s?"touchstart":"mousedown",l=s?"touchend":"mouseup",h=s?"touchmove":"mousemove";e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,i){e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.attrFn&&(e.attrFn[i]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){i=t,o(a,i?"scrollstart":"scrollstop",e)}var i,n,a=this,s=e(a);s.bind("touchmove scroll",function(o){e.event.special.scrollstart.enabled&&(i||t(o,!0),clearTimeout(n),n=setTimeout(function(){t(o,!1)},50))})},teardown:function(){e(this).unbind("touchmove scroll")}},e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var t=this,i=e(t),n=!1;i.bind("vmousedown",function(s){function r(){clearTimeout(c)}function l(){r(),i.unbind("vclick",h).unbind("vmouseup",r),a.unbind("vmousecancel",l)}function h(e){l(),n||u!==e.target?n&&e.preventDefault():o(t,"tap",e)}if(n=!1,s.which&&1!==s.which)return!1;var c,u=s.target;i.bind("vmouseup",r).bind("vclick",h),a.bind("vmousecancel",l),c=setTimeout(function(){e.event.special.tap.emitTapOnTaphold||(n=!0),o(t,"taphold",e.Event("taphold",{target:u}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),a.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var i=t.pageXOffset,n=t.pageYOffset,o=e.clientX,a=e.clientY;return 0===e.pageY&&Math.floor(a)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(o)>Math.floor(e.pageX)?(o-=i,a-=n):(a<e.pageY-n||o<e.pageX-i)&&(o=e.pageX-i,a=e.pageY-n),{x:o,y:a}},start:function(t){var i=t.originalEvent.touches?t.originalEvent.touches[0]:t,n=e.event.special.swipe.getLocation(i);return{time:(new Date).getTime(),coords:[n.x,n.y],origin:e(t.target)}},stop:function(t){var i=t.originalEvent.touches?t.originalEvent.touches[0]:t,n=e.event.special.swipe.getLocation(i);return{time:(new Date).getTime(),coords:[n.x,n.y]}},handleSwipe:function(t,i,n,a){if(i.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-i.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-i.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var s=t.coords[0]>i.coords[0]?"swipeleft":"swiperight";return o(n,"swipe",e.Event("swipe",{target:a,swipestart:t,swipestop:i}),!0),o(n,s,e.Event(s,{target:a,swipestart:t,swipestop:i}),!0),!0}return!1},eventInProgress:!1,setup:function(){var t,i=this,n=e(i),o={};t=e.data(this,"mobile-events"),t||(t={length:0},e.data(this,"mobile-events",t)),t.length++,t.swipe=o,o.start=function(t){if(!e.event.special.swipe.eventInProgress){e.event.special.swipe.eventInProgress=!0;var n,s=e.event.special.swipe.start(t),r=t.target,c=!1;o.move=function(t){s&&!t.isDefaultPrevented()&&(n=e.event.special.swipe.stop(t),c||(c=e.event.special.swipe.handleSwipe(s,n,i,r))&&(e.event.special.swipe.eventInProgress=!1),Math.abs(s.coords[0]-n.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())},o.stop=function(){c=!0,e.event.special.swipe.eventInProgress=!1,a.off(h,o.move),o.move=null},a.on(h,o.move).one(l,o.stop)}},n.on(r,o.start)},teardown:function(){var t,i;t=e.data(this,"mobile-events"),t&&(i=t.swipe,delete t.swipe,0===--t.length&&e.removeData(this,"mobile-events")),i&&(i.start&&e(this).off(r,i.start),i.move&&a.off(h,i.move),i.stop&&a.off(l,i.stop))}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,i){e.event.special[t]={setup:function(){e(this).bind(i,e.noop)},teardown:function(){e(this).unbind(i)}}})}(e,this),function(e,t){var n={animation:{},transition:{}},o=i.createElement("a"),a=["","webkit-","moz-","o-"];e.each(["animation","transition"],function(t,i){var s=0===t?i+"-name":i;e.each(a,function(t,a){if(void 0!==o.style[e.camelCase(a+s)])return n[i].prefix=a,!1}),n[i].duration=e.camelCase(n[i].prefix+i+"-duration"),n[i].event=e.camelCase(n[i].prefix+i+"-end"),""===n[i].prefix&&(n[i].event=n[i].event.toLowerCase())}),e.support.cssTransitions=void 0!==n.transition.prefix,e.support.cssAnimations=void 0!==n.animation.prefix,e(o).remove(),e.fn.animationComplete=function(t,o,a){var s,r,l=this,h=function(){clearTimeout(s),t.apply(this,arguments)},c=o&&"animation"!==o?"transition":"animation";return e.support.cssTransitions&&"transition"===c||e.support.cssAnimations&&"animation"===c?(void 0===a&&(e(this).context!==i&&(r=3e3*parseFloat(e(this).css(n[c].duration))),(0===r||void 0===r||isNaN(r))&&(r=e.fn.animationComplete.defaultDuration)),s=setTimeout(function(){e(l).off(n[c].event,h),t.apply(l)},r),e(this).one(n[c].event,h)):(setTimeout(e.proxy(t,this),0),e(this))},e.fn.animationComplete.defaultDuration=1e3}(e),function(e,i){var n,o;e.mobile.path=n={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(e){var t=this.parseUrl(e||location.href),i=e?t:location,n=t.hash;return n="#"===n?"":n,i.protocol+t.doubleSlash+i.host+(""!==i.protocol&&"/"!==i.pathname.substring(0,1)?"/":"")+i.pathname+i.search+n},getDocumentUrl:function(t){return t?e.extend({},n.documentUrl):n.documentUrl.href},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(t){if("object"===e.type(t))return t;var i=n.urlParseRE.exec(t||"")||[];return{href:i[0]||"",hrefNoHash:i[1]||"",hrefNoSearch:i[2]||"",domain:i[3]||"",protocol:i[4]||"",doubleSlash:i[5]||"",authority:i[6]||"",username:i[8]||"",password:i[9]||"",host:i[10]||"",hostname:i[11]||"",port:i[12]||"",pathname:i[13]||"",directory:i[14]||"",filename:i[15]||"",search:i[16]||"",hash:i[17]||""}},makePathAbsolute:function(e,t){var i,n,o,a;if(e&&"/"===e.charAt(0))return e;for(e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",i=t?t.split("/"):[],n=e.split("/"),o=0;o<n.length;o++)switch(a=n[o]){case".":break;case"..":i.length&&i.pop();break;default:i.push(a)}return"/"+i.join("/")},isSameDomain:function(e,t){return n.parseUrl(e).domain.toLowerCase()===n.parseUrl(t).domain.toLowerCase()},isRelativeUrl:function(e){return""===n.parseUrl(e).protocol},isAbsoluteUrl:function(e){return""!==n.parseUrl(e).protocol},makeUrlAbsolute:function(e,t){if(!n.isRelativeUrl(e))return e;void 0===t&&(t=this.documentBase);var i=n.parseUrl(e),o=n.parseUrl(t),a=i.protocol||o.protocol,s=i.protocol?i.doubleSlash:i.doubleSlash||o.doubleSlash,r=i.authority||o.authority,l=""!==i.pathname;return a+s+r+n.makePathAbsolute(i.pathname||o.filename,o.pathname)+(i.search||!l&&o.search||"")+i.hash},addSearchParams:function(t,i){var o=n.parseUrl(t),a="object"==typeof i?e.param(i):i,s=o.search||"?";return o.hrefNoSearch+s+("?"!==s.charAt(s.length-1)?"&":"")+a+(o.hash||"")},convertUrlToDataUrl:function(e){var i=e,o=n.parseUrl(e);return n.isEmbeddedPage(o)?i=o.hash.split("&ui-state=dialog")[0].replace(/^#/,"").replace(/\?.*$/,""):n.isSameDomain(o,this.documentBase)&&(i=o.hrefNoHash.replace(this.documentBase.domain,"").split("&ui-state=dialog")[0]),t.decodeURIComponent(i)},get:function(e){return void 0===e&&(e=n.parseLocation().hash),n.stripHash(e).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(e){location.hash=e},isPath:function(e){return/\//.test(e)},clean:function(e){return e.replace(this.documentBase.domain,"")},stripHash:function(e){return e.replace(/^#/,"")},stripQueryParams:function(e){return e.replace(/\?.*$/,"")},cleanHash:function(e){return n.stripHash(e.replace(/\?.*$/,"").replace("&ui-state=dialog",""))},isHashValid:function(e){return/^#[^#]+$/.test(e)},isExternal:function(e){var t=n.parseUrl(e);return!(!t.protocol||t.domain.toLowerCase()===this.documentUrl.domain.toLowerCase())},hasProtocol:function(e){return/^(:?\w+:)/.test(e)},isEmbeddedPage:function(e){var t=n.parseUrl(e);return""!==t.protocol?!this.isPath(t.hash)&&t.hash&&(t.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&t.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(t.href)},squash:function(e,t){var i,o,a,s,r,l=this.isPath(e),h=this.parseUrl(e),c=h.hash,u="";return t||(l?t=n.getLocation():(r=n.getDocumentUrl(!0),t=n.isPath(r.hash)?n.squash(r.href):r.href)),o=l?n.stripHash(e):e,o=n.isPath(h.hash)?n.stripHash(h.hash):o,s=o.indexOf(this.uiStateKey),s>-1&&(u=o.slice(s),o=o.slice(0,s)),i=n.makeUrlAbsolute(o,t),a=this.parseUrl(i).search,l?((n.isPath(c)||0===c.replace("#","").indexOf(this.uiStateKey))&&(c=""),u&&-1===c.indexOf(this.uiStateKey)&&(c+=u),-1===c.indexOf("#")&&""!==c&&(c="#"+c),i=n.parseUrl(i),i=i.protocol+i.doubleSlash+i.host+i.pathname+a+c):i+=i.indexOf("#")>-1?u:"#"+u,i},isPreservableHash:function(e){return 0===e.replace("#","").indexOf(this.uiStateKey)},hashToSelector:function(e){var t="#"===e.substring(0,1);return t&&(e=e.substring(1)),(t?"#":"")+e.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")},getFilePath:function(e){return e&&e.split("&ui-state=dialog")[0]},isFirstPageUrl:function(t){var i=n.parseUrl(n.makeUrlAbsolute(t,this.documentBase)),o=i.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&i.hrefNoHash===this.documentBase.hrefNoHash,a=e.mobile.firstPage,s=a&&a[0]?a[0].id:void 0;return o&&(!i.hash||"#"===i.hash||s&&i.hash.replace(/^#/,"")===s)},isPermittedCrossDomainRequest:function(t,i){return e.mobile.allowCrossDomainPages&&("file:"===t.protocol||"content:"===t.protocol)&&-1!==i.search(/^https?:/)}},n.documentUrl=n.parseLocation(),o=e("head").find("base"),n.documentBase=o.length?n.parseUrl(n.makeUrlAbsolute(o.attr("href"),n.documentUrl.href)):n.documentUrl,n.documentBaseDiffers=n.documentUrl.hrefNoHash!==n.documentBase.hrefNoHash,n.getDocumentBase=function(t){return t?e.extend({},n.documentBase):n.documentBase.href},e.extend(e.mobile,{getDocumentUrl:n.getDocumentUrl,getDocumentBase:n.getDocumentBase})}(e),function(e,t){e.mobile.History=function(e,t){this.stack=e||[],this.activeIndex=t||0},e.extend(e.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(e,t){t=t||{},this.getNext()&&this.clearForward(),t.hash&&-1===t.hash.indexOf("#")&&(t.hash="#"+t.hash),t.url=e,this.stack.push(t),
this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(e,t,i){t=t||this.stack;var n,o,a,s=t.length;for(o=0;o<s;o++)if(n=t[o],(decodeURIComponent(e)===decodeURIComponent(n.url)||decodeURIComponent(e)===decodeURIComponent(n.hash))&&(a=o,i))return a;return a},closest:function(e){var t,i=this.activeIndex;return t=this.find(e,this.stack.slice(0,i)),void 0===t&&(t=this.find(e,this.stack.slice(i),!0),t=void 0===t?t:t+i),t},direct:function(t){var i=this.closest(t.url),n=this.activeIndex;void 0!==i&&(this.activeIndex=i,this.previousIndex=n),i<n?(t.present||t.back||e.noop)(this.getActive(),"back"):i>n?(t.present||t.forward||e.noop)(this.getActive(),"forward"):void 0===i&&t.missing&&t.missing(this.getActive())}})}(e),function(e,n){var o=e.mobile.path,a=location.href;e.mobile.Navigator=function(t){this.history=t,this.ignoreInitialHashChange=!0,e.mobile.window.bind({"popstate.history":e.proxy(this.popstate,this),"hashchange.history":e.proxy(this.hashchange,this)})},e.extend(e.mobile.Navigator.prototype,{squash:function(n,a){var s,r,l=o.isPath(n)?o.stripHash(n):n;return r=o.squash(n),s=e.extend({hash:l,url:r},a),t.history.replaceState(s,s.title||i.title,r),s},hash:function(e,t){var i,n,a,s;return i=o.parseUrl(e),n=o.parseLocation(),n.pathname+n.search===i.pathname+i.search?a=i.hash?i.hash:i.pathname+i.search:o.isPath(e)?(s=o.parseUrl(t),a=s.pathname+s.search+(o.isPreservableHash(s.hash)?s.hash.replace("#",""):"")):a=e,a},go:function(n,a,s){var r,l,h,c,u=e.event.special.navigate.isPushStateEnabled();l=o.squash(n),h=this.hash(n,l),s&&h!==o.stripHash(o.parseLocation().hash)&&(this.preventNextHashChange=s),this.preventHashAssignPopState=!0,t.location.hash=h,this.preventHashAssignPopState=!1,r=e.extend({url:l,hash:h,title:i.title},a),u&&(c=new e.Event("popstate"),c.originalEvent={type:"popstate",state:null},this.squash(n,r),s||(this.ignorePopState=!0,e.mobile.window.trigger(c))),this.history.add(r.url,r)},popstate:function(t){var i,n;if(e.event.special.navigate.isPushStateEnabled()){if(this.preventHashAssignPopState)return this.preventHashAssignPopState=!1,void t.stopImmediatePropagation();if(this.ignorePopState)return void(this.ignorePopState=!1);if(!t.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1,location.href===a))return void t.preventDefault();if(i=o.parseLocation().hash,!t.originalEvent.state&&i)return n=this.squash(i),this.history.add(n.url,n),void(t.historyState=n);this.history.direct({url:(t.originalEvent.state||{}).url||i,present:function(i,n){t.historyState=e.extend({},i),t.historyState.direction=n}})}},hashchange:function(t){var n,a;if(e.event.special.navigate.isHashChangeEnabled()&&!e.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange)return this.preventNextHashChange=!1,void t.stopImmediatePropagation();n=this.history,a=o.parseLocation().hash,this.history.direct({url:a,present:function(i,n){t.hashchangeState=e.extend({},i),t.hashchangeState.direction=n},missing:function(){n.add(a,{hash:a,title:i.title})}})}}})}(e),function(e,t){e.mobile.navigate=function(t,i,n){e.mobile.navigate.navigator.go(t,i,n)},e.mobile.navigate.history=new e.mobile.History,e.mobile.navigate.navigator=new e.mobile.Navigator(e.mobile.navigate.history);var i=e.mobile.path.parseLocation();e.mobile.navigate.history.add(i.href,{hash:i.hash})}(e),function(e,t){var i=e("head").children("base"),n={element:i.length?i:e("<base>",{href:e.mobile.path.documentBase.hrefNoHash}).prependTo(e("head")),linkSelector:"[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]",set:function(t){e.mobile.dynamicBaseEnabled&&e.support.dynamicBaseTag&&n.element.attr("href",e.mobile.path.makeUrlAbsolute(t,e.mobile.path.documentBase))},rewrite:function(t,i){var o=e.mobile.path.get(t);i.find(n.linkSelector).each(function(t,i){var n=e(i).is("[href]")?"href":e(i).is("[src]")?"src":"action",a=e.mobile.path.parseLocation(),s=e(i).attr(n);s=s.replace(a.protocol+a.doubleSlash+a.host+a.pathname,""),/^(\w+:|#|\/)/.test(s)||e(i).attr(n,o+s)})},reset:function(){n.element.attr("href",e.mobile.path.documentBase.hrefNoSearch)}};e.mobile.base=n}(e),function(e,t){var i=0,n=Array.prototype.slice,o=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(e){}o(t)},e.widget=function(t,i,n){var o,a,s,r,l={},h=t.split(".")[0];return t=t.split(".")[1],o=h+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[h]=e[h]||{},a=e[h][t],s=e[h][t]=function(e,t){if(!this._createWidget)return new s(e,t);arguments.length&&this._createWidget(e,t)},e.extend(s,a,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(n,function(t,n){if(!e.isFunction(n))return void(l[t]=n);l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},o=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=a,t}}()}),s.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},l,{constructor:s,namespace:h,widgetName:t,widgetFullName:o}),a?(e.each(a._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete a._childConstructors):i._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var i,o,a=n.call(arguments,1),s=0,r=a.length;s<r;s++)for(i in a[s])o=a[s][i],a[s].hasOwnProperty(i)&&void 0!==o&&(e.isPlainObject(o)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],o):e.widget.extend({},o):t[i]=o);return t},e.widget.bridge=function(t,i){var o=i.prototype.widgetFullName||t;e.fn[t]=function(a){var s="string"==typeof a,r=n.call(arguments,1),l=this;return a=!s&&r.length?e.widget.extend.apply(null,[a].concat(r)):a,s?this.each(function(){var i,n=e.data(this,o);return"instance"===a?(l=n,!1):n?e.isFunction(n[a])&&"_"!==a.charAt(0)?(i=n[a].apply(n,r),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(a||{})._init():e.data(this,o,new i(a,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,o,a,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},n=t.split("."),t=n.shift(),n.length){for(o=s[t]=e.widget.extend({},this.options[t]),a=0;a<n.length-1;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];if(t=n.pop(),void 0===i)return void 0===o[t]?null:o[t];o[t]=i}else{if(void 0===i)return void 0===this.options[t]?null:this.options[t];s[t]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var o,a=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,s){function r(){if(t||!0!==a.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?a[s]:s).apply(a,arguments)}"string"!=typeof s&&(r.guid=s.guid=s.guid||r.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),h=l[1]+a.eventNamespace,c=l[2];c?o.delegate(c,h,r):i.bind(h,r)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var o,a,s=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(o in a)o in i||(i[o]=a[o]);return this.element.trigger(i,n),!(e.isFunction(s)&&!1===s.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,o,a){"string"==typeof o&&(o={effect:o});var s,r=o?!0===o||"number"==typeof o?i:o.effect||i:t;o=o||{},"number"==typeof o&&(o={duration:o}),s=!e.isEmptyObject(o),o.complete=a,o.delay&&n.delay(o.delay),s&&e.effects&&e.effects.effect[r]?n[t](o):r!==t&&n[r]?n[r](o.duration,o.easing,a):n.queue(function(i){e(this)[t](),a&&a.call(n[0]),i()})}})}(e),function(e,t){var i=/[A-Z]/g,n=function(e){return"-"+e.toLowerCase()};e.extend(e.Widget.prototype,{_getCreateOptions:function(){var t,o,a=this.element[0],s={};if(!e.mobile.getAttribute(a,"defaults"))for(t in this.options)null!=(o=e.mobile.getAttribute(a,t.replace(i,n)))&&(s[t]=o);return s}}),e.mobile.widget=e.Widget}(e),function(e,t){e.mobile.widgets={};var i=e.widget,n=e.mobile.keepNative;e.widget=function(t){return function(){var i=t.apply(this,arguments),n=i.prototype.widgetName;return i.initSelector=void 0!==i.prototype.initSelector?i.prototype.initSelector:":jqmData(role='"+n+"')",e.mobile.widgets[n]=i,i}}(e.widget),e.extend(e.widget,i),e.mobile.document.on("create",function(t){e(t.target).enhanceWithin()}),e.widget("mobile.page",{options:{theme:"a",domCache:!1,keepNativeDefault:e.mobile.keepNative,contentTheme:null,enhanced:!1},_createWidget:function(){e.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_create:function(){if(!1===this._trigger("beforecreate"))return!1;this.options.enhanced||this._enhance(),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}),this.element.enhanceWithin(),"dialog"===e.mobile.getAttribute(this.element[0],"role")&&e.mobile.dialog&&this.element.dialog()},_enhance:function(){var t="data-"+e.mobile.ns,i=this;this.options.role&&this.element.attr("data-"+e.mobile.ns+"role",this.options.role),this.element.attr("tabindex","0").addClass("ui-page ui-page-theme-"+this.options.theme),this.element.find("["+t+"role='content']").each(function(){var n=e(this),o=this.getAttribute(t+"theme")||void 0;i.options.contentTheme=o||i.options.contentTheme||i.options.dialog&&i.options.theme||"dialog"===i.element.jqmData("role")&&i.options.theme,n.addClass("ui-content"),i.options.contentTheme&&n.addClass("ui-body-"+i.options.contentTheme),n.attr("role","main").addClass("ui-content")})},bindRemove:function(t){var i=this.element;!i.data("mobile-page").options.domCache&&i.is(":jqmData(external-page='true')")&&i.bind("pagehide.remove",t||function(t,i){if(!i.samePage){var n=e(this),o=new e.Event("pageremove");n.trigger(o),o.isDefaultPrevented()||n.removeWithDependents()}})},_setOptions:function(t){void 0!==t.theme&&this.element.removeClass("ui-page-theme-"+this.options.theme).addClass("ui-page-theme-"+t.theme),void 0!==t.contentTheme&&this.element.find("[data-"+e.mobile.ns+"='content']").removeClass("ui-body-"+this.options.contentTheme).addClass("ui-body-"+t.contentTheme)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){this.element.closest(":mobile-pagecontainer").pagecontainer({theme:"none"})},setContainerBackground:function(e){this.element.parent().pagecontainer({theme:e||this.options.theme})},keepNativeSelector:function(){var t=this.options,i=e.trim(t.keepNative||""),o=e.trim(e.mobile.keepNative),a=e.trim(t.keepNativeDefault),s=n===o?"":o,r=""===s?a:"";return(i?[i]:[]).concat(s?[s]:[]).concat(r?[r]:[]).join(", ")}})}(e),function(e,t,i){e.mobile.Transition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.Transition.prototype,{toPreClass:" ui-page-pre-in",init:function(t,i,n,o){e.extend(this,{name:t,reverse:i,$to:n,$from:o,deferred:new e.Deferred})},cleanFrom:function(){this.$from.removeClass(e.mobile.activePageClass+" out in reverse "+this.name).height("")},beforeDoneIn:function(){},beforeDoneOut:function(){},beforeStartOut:function(){},doneIn:function(){this.beforeDoneIn(),this.$to.removeClass("out in reverse "+this.name).height(""),this.toggleViewportClass(),e.mobile.window.scrollTop()!==this.toScroll&&this.scrollPage(),this.sequential||this.$to.addClass(e.mobile.activePageClass),this.deferred.resolve(this.name,this.reverse,this.$to,this.$from,!0)},doneOut:function(e,t,i,n){this.beforeDoneOut(),this.startIn(e,t,i,n)},hideIn:function(e){this.$to.css("z-index",-10),e.call(this),this.$to.css("z-index","")},scrollPage:function(){e.event.special.scrollstart.enabled=!1,(e.mobile.hideUrlBar||this.toScroll!==e.mobile.defaultHomeScroll)&&t.scrollTo(0,this.toScroll),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},startIn:function(t,i,n,o){this.hideIn(function(){this.$to.addClass(e.mobile.activePageClass+this.toPreClass),o||e.mobile.focusPage(this.$to),this.$to.height(t+this.toScroll),n||this.scrollPage()}),this.$to.removeClass(this.toPreClass).addClass(this.name+" in "+i),n?this.doneIn():this.$to.animationComplete(e.proxy(function(){this.doneIn()},this))},startOut:function(t,i,n){this.beforeStartOut(t,i,n),this.$from.height(t+e.mobile.window.scrollTop()).addClass(this.name+" out"+i)},toggleViewportClass:function(){e.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+this.name)},transition:function(){var t,i=this.reverse?" reverse":"",n=e.mobile.getScreenHeight(),o=!1!==e.mobile.maxTransitionWidth&&e.mobile.window.width()>e.mobile.maxTransitionWidth;return this.toScroll=e.mobile.navigate.history.getActive().lastScroll||e.mobile.defaultHomeScroll,t=!e.support.cssTransitions||!e.support.cssAnimations||o||!this.name||"none"===this.name||Math.max(e.mobile.window.scrollTop(),this.toScroll)>e.mobile.getMaxScrollForTransition(),this.toggleViewportClass(),this.$from&&!t?this.startOut(n,i,t):this.doneOut(n,i,t,!0),this.deferred.promise()}})}(e,this),function(e){e.mobile.SerialTransition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.SerialTransition.prototype,e.mobile.Transition.prototype,{sequential:!0,beforeDoneOut:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(t,i,n){this.$from.animationComplete(e.proxy(function(){this.doneOut(t,i,n)},this))}})}(e),function(e){e.mobile.ConcurrentTransition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.ConcurrentTransition.prototype,e.mobile.Transition.prototype,{sequential:!1,beforeDoneIn:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(e,t,i){this.doneOut(e,t,i)}})}(e),function(e){var t=function(){return 3*e.mobile.getScreenHeight()};e.mobile.transitionHandlers={sequential:e.mobile.SerialTransition,simultaneous:e.mobile.ConcurrentTransition},e.mobile.defaultTransitionHandler=e.mobile.transitionHandlers.sequential,e.mobile.transitionFallbacks={},e.mobile._maybeDegradeTransition=function(t){return t&&!e.support.cssTransform3d&&e.mobile.transitionFallbacks[t]&&(t=e.mobile.transitionFallbacks[t]),t},e.mobile.getMaxScrollForTransition=e.mobile.getMaxScrollForTransition||t}(e),function(e,n){e.widget("mobile.pagecontainer",{options:{theme:"a"},initSelector:!1,_create:function(){this._trigger("beforecreate"),this.setLastScrollEnabled=!0,this._on(this.window,{navigate:"_disableRecordScroll",scrollstop:"_delayedRecordScroll"}),this._on(this.window,{navigate:"_filterNavigateEvents"}),this._on({pagechange:"_afterContentChange"}),this.window.one("navigate",e.proxy(function(){this.setLastScrollEnabled=!0},this))},_setOptions:function(e){void 0!==e.theme&&"none"!==e.theme?this.element.removeClass("ui-overlay-"+this.options.theme).addClass("ui-overlay-"+e.theme):void 0!==e.theme&&this.element.removeClass("ui-overlay-"+this.options.theme),this._super(e)},_disableRecordScroll:function(){this.setLastScrollEnabled=!1},_enableRecordScroll:function(){this.setLastScrollEnabled=!0},_afterContentChange:function(){this.setLastScrollEnabled=!0,this._off(this.window,"scrollstop"),this._on(this.window,{scrollstop:"_delayedRecordScroll"})},_recordScroll:function(){if(this.setLastScrollEnabled){var e,t,i,n=this._getActiveHistory();n&&(e=this._getScroll(),t=this._getMinScroll(),i=this._getDefaultScroll(),n.lastScroll=e<t?i:e)}},_delayedRecordScroll:function(){setTimeout(e.proxy(this,"_recordScroll"),100)},_getScroll:function(){return this.window.scrollTop()},_getMinScroll:function(){return e.mobile.minScrollBack},_getDefaultScroll:function(){return e.mobile.defaultHomeScroll},_filterNavigateEvents:function(t,i){var n;t.originalEvent&&t.originalEvent.isDefaultPrevented()||(n=t.originalEvent.type.indexOf("hashchange")>-1?i.state.hash:i.state.url,n||(n=this._getHash()),n&&"#"!==n&&0!==n.indexOf("#"+e.mobile.path.uiStateKey)||(n=location.href),this._handleNavigate(n,i.state))},_getHash:function(){return e.mobile.path.parseLocation().hash},getActivePage:function(){return this.activePage},_getInitialContent:function(){return e.mobile.firstPage},_getHistory:function(){return e.mobile.navigate.history},_getActiveHistory:function(){return this._getHistory().getActive()},_getDocumentBase:function(){return e.mobile.path.documentBase},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(i){if(e.mobile.hashListeningEnabled)t.history.go(i);else{var n=e.mobile.navigate.history.activeIndex,o=n+parseInt(i,10),a=e.mobile.navigate.history.stack[o].url,s=i>=1?"forward":"back";e.mobile.navigate.history.activeIndex=o,e.mobile.navigate.history.previousIndex=n,this.change(a,{direction:s,changeHash:!1,fromHashChange:!0})}},_handleDestination:function(t){return"string"===e.type(t)&&(t=e.mobile.path.stripHash(t)),t&&(this._getHistory(),t=e.mobile.path.isPath(t)?t:e.mobile.path.makeUrlAbsolute("#"+t,this._getDocumentBase())),t||this._getInitialContent()},_transitionFromHistory:function(e,t){var i=this._getHistory(),n="back"===e?i.getLast():i.getActive();return n&&n.transition||t},_handleDialog:function(t,i){var n,o,a=this.getActivePage();return a&&!a.data("mobile-dialog")?("back"===i.direction?this.back():this.forward(),!1):(n=i.pageUrl,o=this._getActiveHistory(),e.extend(t,{role:o.role,transition:this._transitionFromHistory(i.direction,t.transition),reverse:"back"===i.direction}),n)},_handleNavigate:function(t,i){var n=e.mobile.path.stripHash(t),o=this._getHistory(),a=0===o.stack.length?"none":this._transitionFromHistory(i.direction),s={changeHash:!1,fromHashChange:!0,reverse:"back"===i.direction};e.extend(s,i,{transition:a}),o.activeIndex>0&&n.indexOf(e.mobile.dialogHashKey)>-1&&!1===(n=this._handleDialog(s,i))||this._changeContent(this._handleDestination(n),s)},_changeContent:function(t,i){e.mobile.changePage(t,i)},_getBase:function(){return e.mobile.base},_getNs:function(){return e.mobile.ns},_enhance:function(e,t){return e.page({role:t})},_include:function(e,t){e.appendTo(this.element),this._enhance(e,t.role),e.page("bindRemove")},_find:function(t){var i,n=this._createFileUrl(t),o=this._createDataUrl(t),a=this._getInitialContent();return i=this.element.children("[data-"+this._getNs()+"url='"+e.mobile.path.hashToSelector(o)+"']"),0===i.length&&o&&!e.mobile.path.isPath(o)&&(i=this.element.children(e.mobile.path.hashToSelector("#"+o)).attr("data-"+this._getNs()+"url",o).jqmData("url",o)),0===i.length&&e.mobile.path.isFirstPageUrl(n)&&a&&a.parent().length&&(i=e(a)),i},_getLoader:function(){return e.mobile.loading()},_showLoading:function(t,i,n,o){this._loadMsg||(this._loadMsg=setTimeout(e.proxy(function(){this._getLoader().loader("show",i,n,o),this._loadMsg=0},this),t))},_hideLoading:function(){clearTimeout(this._loadMsg),this._loadMsg=0,this._getLoader().loader("hide")},_showError:function(){this._hideLoading(),this._showLoading(0,e.mobile.pageLoadErrorMessageTheme,e.mobile.pageLoadErrorMessage,!0),setTimeout(e.proxy(this,"_hideLoading"),1500)},_parse:function(t,i){var n,o=e("<div></div>");return o.get(0).innerHTML=t,n=o.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),n.length||(n=e("<div data-"+this._getNs()+"role='page'>"+(t.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),n.attr("data-"+this._getNs()+"url",this._createDataUrl(i)).attr("data-"+this._getNs()+"external-page",!0),n},_setLoadedTitle:function(t,i){var n=i.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;n&&!t.jqmData("title")&&(n=e("<div>"+n+"</div>").text(),t.jqmData("title",n))},_isRewritableBaseTag:function(){return e.mobile.dynamicBaseEnabled&&!e.support.dynamicBaseTag},_createDataUrl:function(t){return e.mobile.path.convertUrlToDataUrl(t)},_createFileUrl:function(t){return e.mobile.path.getFilePath(t)},_triggerWithDeprecated:function(t,i,n){var o=e.Event("page"+t),a=e.Event(this.widgetName+t);return(n||this.element).trigger(o,i),this._trigger(t,a,i),{deprecatedEvent:o,event:a}},_loadSuccess:function(t,i,n,o){var a=this._createFileUrl(t);return e.proxy(function(s,r,l){var h,c=new RegExp("(<[^>]+\\bdata-"+this._getNs()+"role=[\"']?page[\"']?[^>]*>)"),u=new RegExp("\\bdata-"+this._getNs()+"url=[\"']?([^\"'>]*)[\"']?");c.test(s)&&RegExp.$1&&u.test(RegExp.$1)&&RegExp.$1&&(a=e.mobile.path.getFilePath(e("<div>"+RegExp.$1+"</div>").text()),a=this.window[0].encodeURIComponent(a)),void 0===n.prefetch&&this._getBase().set(a),h=this._parse(s,a),this._setLoadedTitle(h,s),i.xhr=l,i.textStatus=r,i.page=h,i.content=h,i.toPage=h,this._triggerWithDeprecated("load",i).event.isDefaultPrevented()||(this._isRewritableBaseTag()&&h&&this._getBase().rewrite(a,h),this._include(h,n),n.showLoadMsg&&this._hideLoading(),o.resolve(t,n,h))},this)},_loadDefaults:{type:"get",data:void 0,reloadPage:!1,reload:!1,role:void 0,showLoadMsg:!1,loadMsgDelay:50},load:function(t,i){var n,o,a,s,r=i&&i.deferred||e.Deferred(),l=i&&void 0===i.reload&&void 0!==i.reloadPage?{reload:i.reloadPage}:{},h=e.extend({},this._loadDefaults,i,l),c=null,u=e.mobile.path.makeUrlAbsolute(t,this._findBaseWithDefault());return h.data&&"get"===h.type&&(u=e.mobile.path.addSearchParams(u,h.data),h.data=void 0),h.data&&"post"===h.type&&(h.reload=!0),n=this._createFileUrl(u),o=this._createDataUrl(u),c=this._find(u),0===c.length&&e.mobile.path.isEmbeddedPage(n)&&!e.mobile.path.isFirstPageUrl(n)?(r.reject(u,h),r.promise()):(this._getBase().reset(),c.length&&!h.reload?(this._enhance(c,h.role),r.resolve(u,h,c),h.prefetch||this._getBase().set(t),r.promise()):(s={url:t,absUrl:u,toPage:t,prevPage:i?i.fromPage:void 0,dataUrl:o,deferred:r,options:h},a=this._triggerWithDeprecated("beforeload",s),a.deprecatedEvent.isDefaultPrevented()||a.event.isDefaultPrevented()?r.promise():(h.showLoadMsg&&this._showLoading(h.loadMsgDelay),void 0===h.prefetch&&this._getBase().reset(),e.mobile.allowCrossDomainPages||e.mobile.path.isSameDomain(e.mobile.path.documentUrl,u)?(e.ajax({url:n,type:h.type,data:h.data,contentType:h.contentType,dataType:"html",success:this._loadSuccess(u,s,h,r),error:this._loadError(u,s,h,r)}),r.promise()):(r.reject(u,h),r.promise()))))},_loadError:function(t,i,n,o){return e.proxy(function(a,s,r){this._getBase().set(e.mobile.path.get()),i.xhr=a,i.textStatus=s,i.errorThrown=r;var l=this._triggerWithDeprecated("loadfailed",i);l.deprecatedEvent.isDefaultPrevented()||l.event.isDefaultPrevented()||(n.showLoadMsg&&this._showError(),o.reject(t,n))},this)},_getTransitionHandler:function(t){return t=e.mobile._maybeDegradeTransition(t),e.mobile.transitionHandlers[t]||e.mobile.defaultTransitionHandler},_triggerCssTransitionEvents:function(t,i,n){var o=!1;n=n||"",i&&(t[0]===i[0]&&(o=!0),this._triggerWithDeprecated(n+"hide",{nextPage:t,toPage:t,prevPage:i,samePage:o},i)),this._triggerWithDeprecated(n+"show",{prevPage:i||e(""),toPage:t},t)},_cssTransition:function(t,i,n){var o,a,s=n.transition,r=n.reverse,l=n.deferred;this._triggerCssTransitionEvents(t,i,"before"),this._hideLoading(),o=this._getTransitionHandler(s),a=new o(s,r,t,i).transition(),a.done(e.proxy(function(){this._triggerCssTransitionEvents(t,i)},this)),a.done(function(){l.resolve.apply(l,arguments)})},_releaseTransitionLock:function(){a=!1,o.length>0&&e.mobile.changePage.apply(null,o.pop())},_removeActiveLinkClass:function(t){e.mobile.removeActiveLinkClass(t)},_loadUrl:function(t,i,n){n.target=t,n.deferred=e.Deferred(),this.load(t,n),n.deferred.done(e.proxy(function(e,t,n){a=!1,t.absUrl=i.absUrl,this.transition(n,i,t)},this)),n.deferred.fail(e.proxy(function(){this._removeActiveLinkClass(!0),this._releaseTransitionLock(),this._triggerWithDeprecated("changefailed",i)},this))},_triggerPageBeforeChange:function(t,i,n){var o;return i.prevPage=this.activePage,e.extend(i,{toPage:t,options:n}),"string"===e.type(t)?i.absUrl=e.mobile.path.makeUrlAbsolute(t,this._findBaseWithDefault()):i.absUrl=n.absUrl,o=this._triggerWithDeprecated("beforechange",i),!o.event.isDefaultPrevented()&&!o.deprecatedEvent.isDefaultPrevented()},change:function(t,i){if(a)return void o.unshift(arguments);var n=e.extend({},e.mobile.changePage.defaults,i),s={};n.fromPage=n.fromPage||this.activePage,this._triggerPageBeforeChange(t,s,n)&&(t=s.toPage,"string"===e.type(t)?(a=!0,this._loadUrl(t,s,n)):this.transition(t,s,n))},transition:function(t,n,s){var r,l,h,c,u,d,p,m,f,g,v,b,_;if(a)return void o.unshift([t,s]);if(this._triggerPageBeforeChange(t,n,s)&&(n.prevPage=s.fromPage,_=this._triggerWithDeprecated("beforetransition",n),!_.deprecatedEvent.isDefaultPrevented()&&!_.event.isDefaultPrevented())){if(a=!0,t[0]!==e.mobile.firstPage[0]||s.dataUrl||(s.dataUrl=e.mobile.path.documentUrl.hrefNoHash),r=s.fromPage,l=s.dataUrl&&e.mobile.path.convertUrlToDataUrl(s.dataUrl)||t.jqmData("url"),h=l,e.mobile.path.getFilePath(l),c=e.mobile.navigate.history.getActive(),u=0===e.mobile.navigate.history.activeIndex,d=0,p=i.title,m=("dialog"===s.role||"dialog"===t.jqmData("role"))&&!0!==t.jqmData("dialog"),r&&r[0]===t[0]&&!s.allowSamePageTransition)return a=!1,this._triggerWithDeprecated("transition",n),this._triggerWithDeprecated("change",n),void(s.fromHashChange&&e.mobile.navigate.history.direct({url:l}));t.page({role:s.role}),s.fromHashChange&&(d="back"===s.direction?-1:1);try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()?e(i.activeElement).blur():e("input:focus, textarea:focus, select:focus").blur()}catch(e){}f=!1,m&&c&&(c.url&&c.url.indexOf(e.mobile.dialogHashKey)>-1&&this.activePage&&!this.activePage.hasClass("ui-dialog")&&e.mobile.navigate.history.activeIndex>0&&(s.changeHash=!1,f=!0),l=c.url||"",!f&&l.indexOf("#")>-1?l+=e.mobile.dialogHashKey:l+="#"+e.mobile.dialogHashKey),g=c?t.jqmData("title")||t.children(":jqmData(role='header')").find(".ui-title").text():p,g&&p===i.title&&(p=g),t.jqmData("title")||t.jqmData("title",p),s.transition=s.transition||(d&&!u?c.transition:void 0)||(m?e.mobile.defaultDialogTransition:e.mobile.defaultPageTransition),!d&&f&&(e.mobile.navigate.history.getActive().pageUrl=h),l&&!s.fromHashChange&&(!e.mobile.path.isPath(l)&&l.indexOf("#")<0&&(l="#"+l),v={transition:s.transition,title:p,pageUrl:h,role:s.role},!1!==s.changeHash&&e.mobile.hashListeningEnabled?e.mobile.navigate(this.window[0].encodeURI(l),v,!0):t[0]!==e.mobile.firstPage[0]&&e.mobile.navigate.history.add(l,v)),i.title=p,e.mobile.activePage=t,this.activePage=t,s.reverse=s.reverse||d<0,b=e.Deferred(),this._cssTransition(t,r,{transition:s.transition,reverse:s.reverse,deferred:b}),b.done(e.proxy(function(i,o,a,r,l){e.mobile.removeActiveLinkClass(),s.duplicateCachedPage&&s.duplicateCachedPage.remove(),l||e.mobile.focusPage(t),this._releaseTransitionLock(),this._triggerWithDeprecated("transition",n),this._triggerWithDeprecated("change",n)},this))}},_findBaseWithDefault:function(){return this.activePage&&e.mobile.getClosestBaseUrl(this.activePage)||e.mobile.path.documentBase.hrefNoHash}}),e.mobile.navreadyDeferred=e.Deferred();var o=[],a=!1}(e),function(e,n){function o(e){for(;e&&("string"!=typeof e.nodeName||"a"!==e.nodeName.toLowerCase());)e=e.parentNode;return e}var a=e.Deferred(),s=e.Deferred(),r=function(){s.resolve(),s=null},l=e.mobile.path.documentUrl,h=null;e.mobile.loadPage=function(t,i){var n;return i=i||{},n=i.pageContainer||e.mobile.pageContainer,i.deferred=e.Deferred(),n.pagecontainer("load",t,i),i.deferred.promise()},e.mobile.back=function(){var i=t.navigator;this.phonegapNavigationEnabled&&i&&i.app&&i.app.backHistory?i.app.backHistory():e.mobile.pageContainer.pagecontainer("back")},e.mobile.focusPage=function(e){var t=e.find("[autofocus]"),i=e.find(".ui-title:eq(0)");if(t.length)return void t.focus();i.length?i.focus():e.focus()},e.mobile._maybeDegradeTransition=e.mobile._maybeDegradeTransition||function(e){return e},e.mobile.changePage=function(t,i){e.mobile.pageContainer.pagecontainer("change",t,i)},e.mobile.changePage.defaults={transition:void 0,reverse:!1,changeHash:!0,fromHashChange:!1,role:void 0,duplicateCachedPage:void 0,pageContainer:void 0,showLoadMsg:!0,dataUrl:void 0,fromPage:void 0,allowSamePageTransition:!1},e.mobile._registerInternalEvents=function(){var i=function(t,i){var n,o,a,s,r=!0;return!(!e.mobile.ajaxEnabled||t.is(":jqmData(ajax='false')")||!t.jqmHijackable().length||t.attr("target"))&&(n=h&&h.attr("formaction")||t.attr("action"),s=(t.attr("method")||"get").toLowerCase(),n||(n=e.mobile.getClosestBaseUrl(t),"get"===s&&(n=e.mobile.path.parseUrl(n).hrefNoSearch),n===e.mobile.path.documentBase.hrefNoHash&&(n=l.hrefNoSearch)),n=e.mobile.path.makeUrlAbsolute(n,e.mobile.getClosestBaseUrl(t)),!(e.mobile.path.isExternal(n)&&!e.mobile.path.isPermittedCrossDomainRequest(l,n))&&(i||(o=t.serializeArray(),h&&h[0].form===t[0]&&(a=h.attr("name"))&&(e.each(o,function(e,t){if(t.name===a)return a="",!1}),a&&o.push({name:a,value:h.attr("value")})),r={url:n,options:{type:s,data:e.param(o),transition:t.jqmData("transition"),reverse:"reverse"===t.jqmData("direction"),reloadPage:!0}}),r))};e.mobile.document.delegate("form","submit",function(t){var n;t.isDefaultPrevented()||(n=i(e(this)))&&(e.mobile.changePage(n.url,n.options),t.preventDefault())}),e.mobile.document.bind("vclick",function(t){var n,a,s=t.target,r=!1;if(!(t.which>1)&&e.mobile.linkBindingEnabled){if(h=e(s),e.data(s,"mobile-button")){if(!i(e(s).closest("form"),!0))return
;s.parentNode&&(s=s.parentNode)}else{if(!(s=o(s))||"#"===e.mobile.path.parseUrl(s.getAttribute("href")||"#").hash)return;if(!e(s).jqmHijackable().length)return}~s.className.indexOf("ui-link-inherit")?s.parentNode&&(a=e.data(s.parentNode,"buttonElements")):a=e.data(s,"buttonElements"),a?s=a.outer:r=!0,n=e(s),r&&(n=n.closest(".ui-btn")),n.length>0&&!n.hasClass("ui-state-disabled")&&(e.mobile.removeActiveLinkClass(!0),e.mobile.activeClickedLink=n,e.mobile.activeClickedLink.addClass(e.mobile.activeBtnClass))}}),e.mobile.document.bind("click",function(i){if(e.mobile.linkBindingEnabled&&!i.isDefaultPrevented()){var n,a,s,r,h,c,u=o(i.target),d=e(u),p=function(){t.setTimeout(function(){e.mobile.removeActiveLinkClass(!0)},200)};if(e.mobile.activeClickedLink&&e.mobile.activeClickedLink[0]===i.target.parentNode&&p(),u&&!(i.which>1)&&d.jqmHijackable().length){if(d.is(":jqmData(rel='back')"))return e.mobile.back(),!1;if(n=e.mobile.getClosestBaseUrl(d),a=e.mobile.path.makeUrlAbsolute(d.attr("href")||"#",n),!e.mobile.ajaxEnabled&&!e.mobile.path.isEmbeddedPage(a))return void p();if(!(-1===a.search("#")||e.mobile.path.isExternal(a)&&e.mobile.path.isAbsoluteUrl(a))){if(!(a=a.replace(/[^#]*#/,"")))return void i.preventDefault();a=e.mobile.path.isPath(a)?e.mobile.path.makeUrlAbsolute(a,n):e.mobile.path.makeUrlAbsolute("#"+a,l.hrefNoHash)}if(s=d.is("[rel='external']")||d.is(":jqmData(ajax='false')")||d.is("[target]"),s||e.mobile.path.isExternal(a)&&!e.mobile.path.isPermittedCrossDomainRequest(l,a))return void p();r=d.jqmData("transition"),h="reverse"===d.jqmData("direction")||d.jqmData("back"),c=d.attr("data-"+e.mobile.ns+"rel")||void 0,e.mobile.changePage(a,{transition:r,reverse:h,role:c,link:d}),i.preventDefault()}}}),e.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var t=[];e(this).find("a:jqmData(prefetch)").each(function(){var i=e(this),n=i.attr("href");n&&-1===e.inArray(n,t)&&(t.push(n),e.mobile.loadPage(n,{role:i.attr("data-"+e.mobile.ns+"rel"),prefetch:!0}))})}),e.mobile.pageContainer.pagecontainer(),e.mobile.document.bind("pageshow",function(){s?s.done(e.mobile.resetActivePageHeight):e.mobile.resetActivePageHeight()}),e.mobile.window.bind("throttledresize",e.mobile.resetActivePageHeight)},e(function(){a.resolve()}),"complete"===i.readyState?r():e.mobile.window.load(r),e.when(a,e.mobile.navreadyDeferred).done(function(){e.mobile._registerInternalEvents()})}(e),function(e){var t=e("html");e.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='ui-loader'><span class='ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var t=e("."+e.mobile.activeBtnClass).first();this.element.css({top:e.support.scrollTop&&this.window.scrollTop()+this.window.height()/2||t.length&&t.offset().top||100})},checkLoaderPosition:function(){var t=this.element.offset(),i=this.window.scrollTop(),n=e.mobile.getScreenHeight();(t.top<i||t.top-i>n)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),this.window.unbind("scroll",this.checkLoaderPosition).bind("scroll",e.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(e(this.defaultHtml).html())},show:function(i,n,o){var a,s,r;this.resetHtml(),"object"===e.type(i)?(r=e.extend({},this.options,i),i=r.theme):(r=this.options,i=i||r.theme),s=n||(!1===r.text?"":r.text),t.addClass("ui-loading"),a=r.textVisible,this.element.attr("class","ui-loader ui-corner-all ui-body-"+i+" ui-loader-"+(a||n||i.text?"verbose":"default")+(r.textonly||o?" ui-loader-textonly":"")),r.html?this.element.html(r.html):this.element.find("h1").text(s),this.element.appendTo(e(e.mobile.pagecontainer?":mobile-pagecontainer":"body")),this.checkLoaderPosition(),this.window.bind("scroll",e.proxy(this.checkLoaderPosition,this))},hide:function(){t.removeClass("ui-loading"),this.options.text&&this.element.removeClass("ui-loader-fakefix"),this.window.unbind("scroll",this.fakeFixLoader),this.window.unbind("scroll",this.checkLoaderPosition)}})}(e),function(e,t,n){function o(){a.removeClass("ui-mobile-rendering")}var a=e("html"),s=e.mobile.window;e(t.document).trigger("mobileinit"),e.mobile.gradeA()&&(e.mobile.ajaxBlacklist&&(e.mobile.ajaxEnabled=!1),a.addClass("ui-mobile ui-mobile-rendering"),setTimeout(o,5e3),e.extend(e.mobile,{initializePage:function(){var t=e.mobile.path,n=e(":jqmData(role='page'), :jqmData(role='dialog')"),a=t.stripHash(t.stripQueryParams(t.parseLocation().hash)),r=e.mobile.path.parseLocation(),l=a?i.getElementById(a):void 0;n.length||(n=e("body").wrapInner("<div data-"+e.mobile.ns+"role='page'></div>").children(0)),n.each(function(){var i=e(this);i[0].getAttribute("data-"+e.mobile.ns+"url")||i.attr("data-"+e.mobile.ns+"url",i.attr("id")||t.convertUrlToDataUrl(r.pathname+r.search))}),e.mobile.firstPage=n.first(),e.mobile.pageContainer=e.mobile.firstPage.parent().addClass("ui-mobile-viewport").pagecontainer(),e.mobile.navreadyDeferred.resolve(),s.trigger("pagecontainercreate"),e.mobile.loading("show"),o(),e.mobile.hashListeningEnabled&&e.mobile.path.isHashValid(location.hash)&&(e(l).is(":jqmData(role='page')")||e.mobile.path.isPath(a)||a===e.mobile.dialogHashKey)?e.event.special.navigate.isPushStateEnabled()?(e.mobile.navigate.history.stack=[],e.mobile.navigate(e.mobile.path.isPath(location.hash)?location.hash:location.href)):s.trigger("hashchange",[!0]):(e.event.special.navigate.isPushStateEnabled()&&e.mobile.navigate.navigator.squash(t.parseLocation().href),e.mobile.changePage(e.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),e(function(){e.support.inlineSVG(),e.mobile.hideUrlBar&&t.scrollTo(0,1),e.mobile.defaultHomeScroll=e.support.scrollTop&&1!==e.mobile.window.scrollTop()?1:0,e.mobile.autoInitializePage&&e.mobile.initializePage(),e.mobile.hideUrlBar&&s.load(e.mobile.silentScroll),e.support.cssPointerEvents||e.mobile.document.delegate(".ui-state-disabled,.ui-disabled","vclick",function(e){e.preventDefault(),e.stopImmediatePropagation()})}))}(e,this),function(e,t){e.mobile.links=function(t){e(t).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var e=this,t=e.getAttribute("href").substring(1);t&&(e.setAttribute("aria-haspopup",!0),e.setAttribute("aria-owns",t),e.setAttribute("aria-expanded",!1))}).end().not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")}}(e),function(e){var t=e("meta[name=viewport]"),i=t.attr("content"),n=i+",maximum-scale=1, user-scalable=no",o=i+",maximum-scale=10, user-scalable=yes",a=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(i);e.mobile.zoom=e.extend({},{enabled:!a,locked:!1,disable:function(i){a||e.mobile.zoom.locked||(t.attr("content",n),e.mobile.zoom.enabled=!1,e.mobile.zoom.locked=i||!1)},enable:function(i){a||e.mobile.zoom.locked&&!0!==i||(t.attr("content",o),e.mobile.zoom.enabled=!0,e.mobile.zoom.locked=!1)},restore:function(){a||(t.attr("content",i),e.mobile.zoom.enabled=!0)}})}(e),function(e,t){function i(t){var i,o=t.length,a=[];for(i=0;i<o;i++)t[i].className.match(n)||a.push(t[i]);return e(a)}var n=/\bui-screen-hidden\b/;e.mobile.behaviors.addFirstLastClasses={_getVisibles:function(e,t){var n;return t?n=i(e):(n=e.filter(":visible"),0===n.length&&(n=i(e))),n},_addFirstLastClasses:function(e,t,i){e.removeClass("ui-first-child ui-last-child"),t.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),i||this.element.trigger("updatelayout")},_removeFirstLastClasses:function(e){e.removeClass("ui-first-child ui-last-child")}}}(e),function(e,t,i){e.widget("mobile.dialog",{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_handlePageBeforeHide:function(){this._isCloseable=!1},_handleVClickSubmit:function(t){var i,n=e(t.target).closest("vclick"===t.type?"a":"form");n.length&&!n.jqmData("transition")&&(i={},i["data-"+e.mobile.ns+"transition"]=(e.mobile.navigate.history.getActive()||{}).transition||e.mobile.defaultDialogTransition,i["data-"+e.mobile.ns+"direction"]="reverse",n.attr(i))},_create:function(){var t=this.element,i=this.options;t.addClass("ui-dialog").wrapInner(e("<div/>",{role:"dialog",class:"ui-dialog-contain ui-overlay-shadow"+(i.corners?" ui-corner-all":"")})),e.extend(this,{_isCloseable:!1,_inner:t.children(),_headerCloseButton:null}),this._on(t,{vclick:"_handleVClickSubmit",submit:"_handleVClickSubmit",pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"}),this._setCloseBtn(i.closeBtn)},_setOptions:function(t){var i,n,o=this.options;void 0!==t.corners&&this._inner.toggleClass("ui-corner-all",!!t.corners),void 0!==t.overlayTheme&&e.mobile.activePage[0]===this.element[0]&&(o.overlayTheme=t.overlayTheme,this._handlePageBeforeShow()),void 0!==t.closeBtnText&&(i=o.closeBtn,n=t.closeBtnText),void 0!==t.closeBtn&&(i=t.closeBtn),i&&this._setCloseBtn(i,n),this._super(t)},_setCloseBtn:function(t,i){var n,o=this._headerCloseButton;t="left"===t?"left":"right"===t?"right":"none","none"===t?o&&(o.remove(),o=null):o?(o.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+t),i&&o.text(i)):(n=this._inner.find(":jqmData(role='header')").first(),o=e("<a></a>",{role:"button",href:"#",class:"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+t}).text(i||this.options.closeBtnText||"").prependTo(n),this._on(o,{click:"close"})),this._headerCloseButton=o},close:function(){var t=e.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,e.mobile.hashListeningEnabled&&t.activeIndex>0?e.mobile.back():e.mobile.pageContainer.pagecontainer("back"))}})}(e),function(e,t){e.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(e),function(e,n){e.widget("mobile.selectmenu",e.extend({initSelector:"select:not( :jqmData(role='slider')):not( :jqmData(role='flipswitch') )",options:{theme:null,icon:"carat-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!1,overlayTheme:null,dividerTheme:null,hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,mini:!1},_button:function(){return e("<div/>")},_setDisabled:function(e){return this.element.attr("disabled",e),this.button.attr("aria-disabled",e),this._setOption("disabled",e)},_focusButton:function(){var e=this;setTimeout(function(){e.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var t=this.options.inline||this.element.jqmData("inline"),i=this.options.mini||this.element.jqmData("mini"),n="";~this.element[0].className.indexOf("ui-btn-left")&&(n=" ui-btn-left"),~this.element[0].className.indexOf("ui-btn-right")&&(n=" ui-btn-right"),t&&(n+=" ui-btn-inline"),i&&(n+=" ui-mini"),this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+n+"'>"),this.selectId=this.select.attr("id")||"select-"+this.uuid,this.buttonId=this.selectId+"-button",this.label=e("label[for='"+this.selectId+"']"),this.isMultiple=this.select[0].multiple},_destroy:function(){var e=this.element.parents(".ui-select");e.length>0&&(e.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(e.hasClass("ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(e),e.remove())},_create:function(){this._preExtension(),this.button=this._button();var i=this,n=this.options,o=!!n.icon&&(n.iconpos||this.select.jqmData("iconpos")),a=this.button.insertBefore(this.select).attr("id",this.buttonId).addClass("ui-btn"+(n.icon?" ui-icon-"+n.icon+" ui-btn-icon-"+o+(n.iconshadow?" ui-shadow-icon":""):"")+(n.theme?" ui-btn-"+n.theme:"")+(n.corners?" ui-corner-all":"")+(n.shadow?" ui-shadow":""));this.setButtonText(),n.nativeMenu&&t.opera&&t.opera.version&&a.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=e("<span>").addClass("ui-li-count ui-body-inherit").hide().appendTo(a.addClass("ui-li-has-count"))),(n.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){i.refresh(),n.nativeMenu&&i._delay(function(){i.select.blur()})}),this._handleFormReset(),this._on(this.button,{keydown:"_handleKeydown"}),this.build()},build:function(){var t=this;this.select.appendTo(t.button).bind("vmousedown",function(){t.button.addClass(e.mobile.activeBtnClass)}).bind("focus",function(){t.button.addClass(e.mobile.focusClass)}).bind("blur",function(){t.button.removeClass(e.mobile.focusClass)}).bind("focus vmouseover",function(){t.button.trigger("vmouseover")}).bind("vmousemove",function(){t.button.removeClass(e.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){t.button.trigger("vmouseout").removeClass(e.mobile.activeBtnClass)}),t.button.bind("vmousedown",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.label.bind("click focus",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.select.bind("focus",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.button.bind("mouseup",function(){t.options.preventFocusZoom&&setTimeout(function(){e.mobile.zoom.enable(!0)},0)}),t.select.bind("blur",function(){t.options.preventFocusZoom&&e.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var e=this;return this.selected().map(function(){return e._selectOptions().index(this)}).get()},setButtonText:function(){var t=this,n=this.selected(),o=this.placeholder,a=e(i.createElement("span"));this.button.children("span").not(".ui-li-count").remove().end().end().prepend(function(){return o=n.length?n.map(function(){return e(this).text()}).get().join(", "):t.placeholder,o?a.text(o):a.html("&#160;"),a.addClass(t.select.attr("class")).addClass(n.attr("class")).removeClass("ui-screen-hidden")}())},setButtonCount:function(){var e=this.selected();this.isMultiple&&this.buttonCount[e.length>1?"show":"hide"]().text(e.length)},_handleKeydown:function(){this._delay("_refreshButton")},_reset:function(){this.refresh()},_refreshButton:function(){this.setButtonText(),this.setButtonCount()},refresh:function(){this._refreshButton()},open:e.noop,close:e.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-state-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-state-disabled")}},e.mobile.behaviors.formReset))}(e),function(e,t){var i=e.mobile.getAttribute;e.widget("mobile.listview",e.extend({options:{theme:null,countTheme:null,dividerTheme:null,icon:"carat-r",splitIcon:"carat-r",splitTheme:null,corners:!0,shadow:!0,inset:!1},_create:function(){var e=this,t="";t+=e.options.inset?" ui-listview-inset":"",e.options.inset&&(t+=e.options.corners?" ui-corner-all":"",t+=e.options.shadow?" ui-shadow":""),e.element.addClass(" ui-listview"+t),e.refresh(!0)},_findFirstElementByTagName:function(e,t,i,n){var o={};for(o[i]=o[n]=!0;e;){if(o[e.nodeName])return e;e=e[t]}return null},_addThumbClasses:function(t){var i,n,o=t.length;for(i=0;i<o;i++)n=e(this._findFirstElementByTagName(t[i].firstChild,"nextSibling","img","IMG")),n.length&&e(this._findFirstElementByTagName(n[0].parentNode,"parentNode","li","LI")).addClass(n.hasClass("ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")},_getChildrenByTagName:function(t,i,n){var o=[],a={};for(a[i]=a[n]=!0,t=t.firstChild;t;)a[t.nodeName]&&o.push(t),t=t.nextSibling;return e(o)},_beforeListviewRefresh:e.noop,_afterListviewRefresh:e.noop,refresh:function(t){var n,o,a,s,r,l,h,c,u,d,p,m,f,g,v,b,_,y,C,w,x=this.options,T=this.element,P=!!e.nodeName(T[0],"ol"),D=T.attr("start"),k={},E=T.find(".ui-li-count"),S=i(T[0],"counttheme")||this.options.countTheme,A=S?"ui-body-"+S:"ui-body-inherit";for(x.theme&&T.addClass("ui-group-theme-"+x.theme),P&&(D||0===D)&&(p=parseInt(D,10)-1,T.css("counter-reset","listnumbering "+p)),this._beforeListviewRefresh(),w=this._getChildrenByTagName(T[0],"li","LI"),o=0,a=w.length;o<a;o++)s=w.eq(o),r="",(t||s[0].className.search(/\bui-li-static\b|\bui-li-divider\b/)<0)&&(u=this._getChildrenByTagName(s[0],"a","A"),d="list-divider"===i(s[0],"role"),f=s.attr("value"),l=i(s[0],"theme"),u.length&&u[0].className.search(/\bui-btn\b/)<0&&!d?(h=i(s[0],"icon"),c=!1!==h&&(h||x.icon),u.removeClass("ui-link"),n="ui-btn",l&&(n+=" ui-btn-"+l),u.length>1?(r="ui-li-has-alt",g=u.last(),v=i(g[0],"theme")||x.splitTheme||i(s[0],"theme",!0),b=v?" ui-btn-"+v:"",_=i(g[0],"icon")||i(s[0],"icon")||x.splitIcon,y="ui-btn ui-btn-icon-notext ui-icon-"+_+b,g.attr("title",e.trim(g.getEncodedText())).addClass(y).empty(),u=u.first()):c&&(n+=" ui-btn-icon-right ui-icon-"+c),u.addClass(n)):d?(C=i(s[0],"theme")||x.dividerTheme||x.theme,r="ui-li-divider ui-bar-"+(C||"inherit"),s.attr("role","heading")):u.length<=0&&(r="ui-li-static ui-body-"+(l||"inherit")),P&&f&&(m=parseInt(f,10)-1,s.css("counter-reset","listnumbering "+m))),k[r]||(k[r]=[]),k[r].push(s[0]);for(r in k)e(k[r]).addClass(r);E.each(function(){e(this).closest("li").addClass("ui-li-has-count")}),A&&E.not("[class*='ui-body-']").addClass(A),this._addThumbClasses(w),this._addThumbClasses(w.find(".ui-btn")),this._afterListviewRefresh(),this._addFirstLastClasses(w,this._getVisibles(w,t),t)}},e.mobile.behaviors.addFirstLastClasses))}(e),function(e,i){function n(e,t,i,n){return e<t?i+(e-t)/2:Math.min(Math.max(i,n-t/2),i+e-t)}function o(e){return{x:e.scrollLeft(),y:e.scrollTop(),cx:e[0].innerWidth||e.width(),cy:e[0].innerHeight||e.height()}}e.widget("mobile.popup",{options:{wrapperClass:null,theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,enhanced:!1,history:!e.mobile.browser.oldIE},_handleDocumentVmousedown:function(t){this._isOpen&&e.contains(this._ui.container[0],t.target)&&this._ignoreResizeEvents()},_create:function(){var t=this.element,i=t.attr("id"),n=this.options;n.history=n.history&&e.mobile.ajaxEnabled&&e.mobile.hashListeningEnabled,this._on(this.document,{vmousedown:"_handleDocumentVmousedown"}),e.extend(this,{_scrollTop:0,_page:t.closest(".ui-page"),_ui:null,_fallbackTransition:"",_currentTransition:!1,_prerequisites:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),0===this._page.length&&(this._page=e("body")),n.enhanced?this._ui={container:t.parent(),screen:t.parent().prev(),placeholder:e(this.document[0].getElementById(i+"-placeholder"))}:(this._ui=this._enhance(t,i),this._applyTransition(n.transition)),this._setTolerance(n.tolerance)._ui.focusElement=this._ui.container,this._on(this._ui.screen,{vclick:"_eatEventAndClose"}),this._on(this.window,{orientationchange:e.proxy(this,"_handleWindowOrientationchange"),resize:e.proxy(this,"_handleWindowResize"),keyup:e.proxy(this,"_handleWindowKeyUp")}),this._on(this.document,{focusin:"_handleDocumentFocusIn"})},_enhance:function(t,i){var n=this.options,o=n.wrapperClass,a={screen:e("<div class='ui-screen-hidden ui-popup-screen "+this._themeClassFromOption("ui-overlay-",n.overlayTheme)+"'></div>"),placeholder:e("<div style='display: none;'>\x3c!-- placeholder --\x3e</div>"),container:e("<div class='ui-popup-container ui-popup-hidden ui-popup-truncate"+(o?" "+o:"")+"'></div>")},s=this.document[0].createDocumentFragment();return s.appendChild(a.screen[0]),s.appendChild(a.container[0]),i&&(a.screen.attr("id",i+"-screen"),a.container.attr("id",i+"-popup"),a.placeholder.attr("id",i+"-placeholder").html("\x3c!-- placeholder for "+i+" --\x3e")),this._page[0].appendChild(s),a.placeholder.insertAfter(t),t.detach().addClass("ui-popup "+this._themeClassFromOption("ui-body-",n.theme)+" "+(n.shadow?"ui-overlay-shadow ":"")+(n.corners?"ui-corner-all ":"")).appendTo(a.container),a},_eatEventAndClose:function(e){return e.preventDefault(),e.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var e=this._ui.screen,t=this._ui.container.outerHeight(!0),i=e.removeAttr("style").height(),n=this.document.height()-1;i<n?e.height(n):t>i&&e.height(t)},_handleWindowKeyUp:function(t){if(this._isOpen&&t.keyCode===e.mobile.keyCode.ESCAPE)return this._eatEventAndClose(t)},_expectResizeEvent:function(){var e=o(this.window);if(this._resizeData){if(e.x===this._resizeData.windowCoordinates.x&&e.y===this._resizeData.windowCoordinates.y&&e.cx===this._resizeData.windowCoordinates.cx&&e.cy===this._resizeData.windowCoordinates.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:this._delay("_resizeTimeout",200),windowCoordinates:e},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden ui-popup-truncate"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_stopIgnoringResizeEvents:function(){this._ignoreResizeTo=0},_ignoreResizeEvents:function(){this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=this._delay("_stopIgnoringResizeEvents",1e3)},_handleWindowResize:function(){this._isOpen&&0===this._ignoreResizeTo&&(!this._expectResizeEvent()&&!this._orientationchangeInProgress||this._ui.container.hasClass("ui-popup-hidden")||this._ui.container.addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style"))},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(t){var i,n=t.target,o=this._ui;if(this._isOpen){if(n!==o.container[0]){if(i=e(n),!e.contains(o.container[0],n))return e(this.document[0].activeElement).one("focus",e.proxy(function(){this._safelyBlur(n)},this)),o.focusElement.focus(),t.preventDefault(),t.stopImmediatePropagation(),!1;o.focusElement[0]===o.container[0]&&(o.focusElement=i)}this._ignoreResizeEvents()}},_themeClassFromOption:function(e,t){return t?"none"===t?"":e+t:e+"inherit"},_applyTransition:function(t){return t&&(this._ui.container.removeClass(this._fallbackTransition),"none"!==t&&(this._fallbackTransition=e.mobile._maybeDegradeTransition(t),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))),this},_setOptions:function(e){var t=this.options,i=this.element,n=this._ui.screen;return void 0!==e.wrapperClass&&this._ui.container.removeClass(t.wrapperClass).addClass(e.wrapperClass),void 0!==e.theme&&i.removeClass(this._themeClassFromOption("ui-body-",t.theme)).addClass(this._themeClassFromOption("ui-body-",e.theme)),void 0!==e.overlayTheme&&(n.removeClass(this._themeClassFromOption("ui-overlay-",t.overlayTheme)).addClass(this._themeClassFromOption("ui-overlay-",e.overlayTheme)),this._isOpen&&n.addClass("in")),void 0!==e.shadow&&i.toggleClass("ui-overlay-shadow",e.shadow),void 0!==e.corners&&i.toggleClass("ui-corner-all",e.corners),void 0!==e.transition&&(this._currentTransition||this._applyTransition(e.transition)),void 0!==e.tolerance&&this._setTolerance(e.tolerance),void 0!==e.disabled&&e.disabled&&this.close(),this._super(e)},_setTolerance:function(t){var i,n={t:30,r:15,b:30,l:15};if(void 0!==t)switch(i=String(t).split(","),e.each(i,function(e,t){i[e]=parseInt(t,10)}),i.length){case 1:isNaN(i[0])||(n.t=n.r=n.b=n.l=i[0]);break;case 2:isNaN(i[0])||(n.t=n.b=i[0]),isNaN(i[1])||(n.l=n.r=i[1]);break;case 4:isNaN(i[0])||(n.t=i[0]),isNaN(i[1])||(n.r=i[1]),isNaN(i[2])||(n.b=i[2]),isNaN(i[3])||(n.l=i[3])}return this._tolerance=n,this},_clampPopupWidth:function(e){var t,i=o(this.window),n={x:this._tolerance.l,y:i.y+this._tolerance.t,cx:i.cx-this._tolerance.l-this._tolerance.r,cy:i.cy-this._tolerance.t-this._tolerance.b};return e||this._ui.container.css("max-width",n.cx),t={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},{rc:n,menuSize:t}},_calculateFinalLocation:function(e,t){var i,o=t.rc,a=t.menuSize;return i={left:n(o.cx,a.cx,o.x,e.x),top:n(o.cy,a.cy,o.y,e.y)},i.top=Math.max(0,i.top),i.top-=Math.min(i.top,Math.max(0,i.top+a.cy-this.document.height())),i},_placementCoords:function(e){return this._calculateFinalLocation(e,this._clampPopupWidth())},_createPrerequisites:function(t,i,n){var o,a=this;o={screen:e.Deferred(),container:e.Deferred()},o.screen.then(function(){o===a._prerequisites&&t()}),o.container.then(function(){o===a._prerequisites&&i()}),e.when(o.screen,o.container).done(function(){o===a._prerequisites&&(a._prerequisites=null,n())}),a._prerequisites=o},_animate:function(t){if(this._ui.screen.removeClass(t.classToRemove).addClass(t.screenClassToAdd),t.prerequisites.screen.resolve(),t.transition&&"none"!==t.transition&&(t.applyTransition&&this._applyTransition(t.transition),this._fallbackTransition))return void this._ui.container.addClass(t.containerClassToAdd).removeClass(t.classToRemove).animationComplete(e.proxy(t.prerequisites.container,"resolve"));this._ui.container.removeClass(t.classToRemove),t.prerequisites.container.resolve()},_desiredCoords:function(t){var i,n=null,a=o(this.window),s=t.x,r=t.y,l=t.positionTo;if(l&&"origin"!==l)if("window"===l)s=a.cx/2+a.x,r=a.cy/2+a.y;else{try{n=e(l)}catch(e){n=null}n&&(n.filter(":visible"),0===n.length&&(n=null))}return n&&(i=n.offset(),s=i.left+n.outerWidth()/2,r=i.top+n.outerHeight()/2),("number"!==e.type(s)||isNaN(s))&&(s=a.cx/2+a.x),("number"!==e.type(r)||isNaN(r))&&(r=a.cy/2+a.y),{x:s,y:r}},_reposition:function(e){e={x:e.x,y:e.y,positionTo:e.positionTo},this._trigger("beforeposition",void 0,e),this._ui.container.offset(this._placementCoords(this._desiredCoords(e)))},reposition:function(e){this._isOpen&&this._reposition(e)},_safelyBlur:function(t){t!==this.window[0]&&"body"!==t.nodeName.toLowerCase()&&e(t).blur()},_openPrerequisitesComplete:function(){var t=this.element.attr("id"),i=this._ui.container.find(":focusable").first();this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),e.contains(this._ui.container[0],this.document[0].activeElement)||this._safelyBlur(this.document[0].activeElement),i.length>0&&(this._ui.focusElement=i),this._ignoreResizeEvents(),t&&this.document.find("[aria-haspopup='true'][aria-owns='"+t+"']").attr("aria-expanded",!0),this._trigger("afteropen")},_open:function(t){var i=e.extend({},this.options,t),n=function(){var e=navigator.userAgent,t=e.match(/AppleWebKit\/([0-9\.]+)/),i=!!t&&t[1],n=e.match(/Android (\d+(?:\.\d+))/),o=!!n&&n[1],a=e.indexOf("Chrome")>-1;return!(!(null!==n&&"4.0"===o&&i&&i>534.13)||a)}();this._createPrerequisites(e.noop,e.noop,e.proxy(this,"_openPrerequisitesComplete")),this._currentTransition=i.transition,this._applyTransition(i.transition),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-truncate"),this._reposition(i),this._ui.container.removeClass("ui-popup-hidden"),this.options.overlayTheme&&n&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:i.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prerequisites:this._prerequisites})},_closePrerequisiteScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrerequisiteContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style")},_closePrerequisitesDone:function(){var t=this._ui.container,i=this.element.attr("id");e.mobile.popup.active=void 0,e(":focus",t[0]).add(t[0]).blur(),i&&this.document.find("[aria-haspopup='true'][aria-owns='"+i+"']").attr("aria-expanded",!1),this._trigger("afterclose")},_close:function(t){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrerequisites(e.proxy(this,"_closePrerequisiteScreen"),e.proxy(this,"_closePrerequisiteContainer"),e.proxy(this,"_closePrerequisitesDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:t?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prerequisites:this._prerequisites})},_unenhance:function(){this.options.enhanced||(this._setOptions({theme:e.mobile.popup.prototype.options.theme}),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all ui-body-inherit"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove())},_destroy:function(){return e.mobile.popup.active===this?(this.element.one("popupafterclose",e.proxy(this,"_unenhance")),this.close()):this._unenhance(),this},_closePopup:function(i,n){var o,a,s=this.options,r=!1;i&&i.isDefaultPrevented()||e.mobile.popup.active!==this||(t.scrollTo(0,this._scrollTop),i&&"pagebeforechange"===i.type&&n&&(o="string"==typeof n.toPage?n.toPage:n.toPage.jqmData("url"),o=e.mobile.path.parseUrl(o),a=o.pathname+o.search+o.hash,this._myUrl!==e.mobile.path.makeUrlAbsolute(a)?r=!0:i.preventDefault()),this.window.off(s.closeEvents),this.element.undelegate(s.closeLinkSelector,s.closeLinkEvents),this._close(r))},_bindContainerClose:function(){this.window.on(this.options.closeEvents,e.proxy(this,"_closePopup"))},widget:function(){return this._ui.container},open:function(t){var i,n,o,a,s,r=this,l=this.options;return e.mobile.popup.active||l.disabled?this:(e.mobile.popup.active=this,this._scrollTop=this.window.scrollTop(),l.history?(s=e.mobile.navigate.history,n=e.mobile.dialogHashKey,o=e.mobile.activePage,a=!!o&&o.hasClass("ui-dialog"),this._myUrl=i=s.getActive().url,i.indexOf(n)>-1&&!a&&s.activeIndex>0?(r._open(t),r._bindContainerClose(),this):(-1!==i.indexOf(n)||a?i=e.mobile.path.parseLocation().hash+n:i+=i.indexOf("#")>-1?n:"#"+n,this.window.one("beforenavigate",function(e){e.preventDefault(),r._open(t),r._bindContainerClose()}),this.urlAltered=!0,e.mobile.navigate(i,{role:"dialog"}),this)):(r._open(t),r._bindContainerClose(),r.element.delegate(l.closeLinkSelector,l.closeLinkEvents,function(e){r.close(),e.preventDefault()}),this))},close:function(){return e.mobile.popup.active!==this?this:(this._scrollTop=this.window.scrollTop(),this.options.history&&this.urlAltered?(e.mobile.back(),this.urlAltered=!1):this._closePopup(),this)}}),e.mobile.popup.handleLink=function(t){var i,n=e.mobile.path,o=e(n.hashToSelector(n.parseUrl(t.attr("href")).hash)).first();o.length>0&&o.data("mobile-popup")&&(i=t.offset(),o.popup("open",{x:i.left+t.outerWidth()/2,y:i.top+t.outerHeight()/2,transition:t.jqmData("transition"),positionTo:t.jqmData("position-to")})),setTimeout(function(){t.removeClass(e.mobile.activeBtnClass)},300)},e.mobile.document.on("pagebeforechange",function(t,i){"popup"===i.options.role&&(e.mobile.popup.handleLink(i.options.link),t.preventDefault())})}(e),function(e,t){var n=".ui-disabled,.ui-state-disabled,.ui-li-divider,.ui-screen-hidden,:jqmData(role='placeholder')",o=function(e,t,i){var o=e[i+"All"]().not(n).first();o.length&&(t.blur().attr("tabindex","-1"),o.find("a").first().focus())};e.widget("mobile.selectmenu",e.mobile.selectmenu,{_create:function(){var e=this.options;return e.nativeMenu=e.nativeMenu||this.element.parents(":jqmData(role='popup'),:mobile-popup").length>0,this._super()},_handleSelectFocus:function(){this.element.blur(),this.button.focus()},_handleKeydown:function(e){this._super(e),this._handleButtonVclickKeydown(e)},_handleButtonVclickKeydown:function(t){this.options.disabled||this.isOpen||this.options.nativeMenu||("vclick"===t.type||t.keyCode&&(t.keyCode===e.mobile.keyCode.ENTER||t.keyCode===e.mobile.keyCode.SPACE))&&(this._decideFormat(),
"overlay"===this.menuType?this.button.attr("href","#"+this.popupId).attr("data-"+(e.mobile.ns||"")+"rel","popup"):this.button.attr("href","#"+this.dialogId).attr("data-"+(e.mobile.ns||"")+"rel","dialog"),this.isOpen=!0)},_handleListFocus:function(t){var i="focusin"===t.type?{tabindex:"0",event:"vmouseover"}:{tabindex:"-1",event:"vmouseout"};e(t.target).attr("tabindex",i.tabindex).trigger(i.event)},_handleListKeydown:function(t){var i=e(t.target),n=i.closest("li");switch(t.keyCode){case 38:return o(n,i,"prev"),!1;case 40:return o(n,i,"next"),!1;case 13:case 32:return i.trigger("click"),!1}},_handleMenuPageHide:function(){this._delayedTrigger(),this.thisPage.page("bindRemove")},_handleHeaderCloseClick:function(){if("overlay"===this.menuType)return this.close(),!1},_handleListItemClick:function(t){var i=e(t.target).closest("li"),n=this.select[0].selectedIndex,o=e.mobile.getAttribute(i,"option-index"),a=this._selectOptions().eq(o)[0];a.selected=!this.isMultiple||!a.selected,this.isMultiple&&i.find("a").toggleClass("ui-checkbox-on",a.selected).toggleClass("ui-checkbox-off",!a.selected),this.isMultiple||n===o||(this._triggerChange=!0),this.isMultiple?(this.select.trigger("change"),this.list.find("li:not(.ui-li-divider)").eq(o).find("a").first().focus()):this.close(),t.preventDefault()},build:function(){var t,i,n,o,a,s,r,l,h,c,u,d,p,m,f,g,v,b=this.options;return b.nativeMenu?this._super():(t=this.selectId,i=t+"-listbox",n=t+"-dialog",o=this.label,a=this.element.closest(".ui-page"),s=this.element[0].multiple,r=t+"-menu",l=b.theme?" data-"+e.mobile.ns+"theme='"+b.theme+"'":"",h=b.overlayTheme||b.theme||null,c=h?" data-"+e.mobile.ns+"overlay-theme='"+h+"'":"",u=b.dividerTheme&&s?" data-"+e.mobile.ns+"divider-theme='"+b.dividerTheme+"'":"",d=e("<div data-"+e.mobile.ns+"role='dialog' class='ui-selectmenu' id='"+n+"'"+l+c+"><div data-"+e.mobile.ns+"role='header'><div class='ui-title'></div></div><div data-"+e.mobile.ns+"role='content'></div></div>"),p=e("<div"+l+c+" id='"+i+"' class='ui-selectmenu'></div>").insertAfter(this.select).popup(),m=e("<ul class='ui-selectmenu-list' id='"+r+"' role='listbox' aria-labelledby='"+this.buttonId+"'"+l+u+"></ul>").appendTo(p),f=e("<div class='ui-header ui-bar-"+(b.theme?b.theme:"inherit")+"'></div>").prependTo(p),g=e("<h1 class='ui-title'></h1>").appendTo(f),this.isMultiple&&(v=e("<a>",{role:"button",text:b.closeText,href:"#",class:"ui-btn ui-corner-all ui-btn-left ui-btn-icon-notext ui-icon-delete"}).appendTo(f)),e.extend(this,{selectId:t,menuId:r,popupId:i,dialogId:n,thisPage:a,menuPage:d,label:o,isMultiple:s,theme:b.theme,listbox:p,list:m,header:f,headerTitle:g,headerClose:v,menuPageContent:void 0,menuPageClose:void 0,placeholder:""}),this.refresh(),void 0===this._origTabIndex&&(this._origTabIndex=null!==this.select[0].getAttribute("tabindex")&&this.select.attr("tabindex")),this.select.attr("tabindex","-1"),this._on(this.select,{focus:"_handleSelectFocus"}),this._on(this.button,{vclick:"_handleButtonVclickKeydown"}),this.list.attr("role","listbox"),this._on(this.list,{focusin:"_handleListFocus",focusout:"_handleListFocus",keydown:"_handleListKeydown","click li:not(.ui-disabled,.ui-state-disabled,.ui-li-divider)":"_handleListItemClick"}),this._on(this.menuPage,{pagehide:"_handleMenuPageHide"}),this._on(this.listbox,{popupafterclose:"_popupClosed"}),this.isMultiple&&this._on(this.headerClose,{click:"_handleHeaderCloseClick"}),this)},_popupClosed:function(){this.close(),this._delayedTrigger()},_delayedTrigger:function(){this._triggerChange&&this.element.trigger("change"),this._triggerChange=!1},_isRebuildRequired:function(){var e=this.list.find("li");return this._selectOptions().not(".ui-screen-hidden").text()!==e.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(t){var i,n;if(this.options.nativeMenu)return this._super(t);i=this,(t||this._isRebuildRequired())&&i._buildList(),n=this.selectedIndices(),i.setButtonText(),i.setButtonCount(),i.list.find("li:not(.ui-li-divider)").find("a").removeClass(e.mobile.activeBtnClass).end().attr("aria-selected",!1).each(function(t){var o=e(this);e.inArray(t,n)>-1?(o.attr("aria-selected",!0),i.isMultiple?o.find("a").removeClass("ui-checkbox-off").addClass("ui-checkbox-on"):o.hasClass("ui-screen-hidden")?o.next().find("a").addClass(e.mobile.activeBtnClass):o.find("a").addClass(e.mobile.activeBtnClass)):i.isMultiple&&o.find("a").removeClass("ui-checkbox-on").addClass("ui-checkbox-off")})},close:function(){if(!this.options.disabled&&this.isOpen){var e=this;"page"===e.menuType?(e.menuPage.dialog("close"),e.list.appendTo(e.listbox)):e.listbox.popup("close"),e._focusButton(),e.isOpen=!1}},open:function(){this.button.click()},_focusMenuItem:function(){var t=this.list.find("a."+e.mobile.activeBtnClass);0===t.length&&(t=this.list.find("li:not("+n+") a.ui-btn")),t.first().focus()},_decideFormat:function(){var t=this,i=this.window,n=t.list.parent(),o=n.outerHeight(),a=i.scrollTop(),s=t.button.offset().top,r=i.height();o>r-80||!e.support.scrollTop?(t.menuPage.appendTo(e.mobile.pageContainer).page(),t.menuPageContent=t.menuPage.find(".ui-content"),t.menuPageClose=t.menuPage.find(".ui-header a"),t.thisPage.unbind("pagehide.remove"),0===a&&s>r&&t.thisPage.one("pagehide",function(){e(this).jqmData("lastScroll",s)}),t.menuPage.one({pageshow:e.proxy(this,"_focusMenuItem"),pagehide:e.proxy(this,"close")}),t.menuType="page",t.menuPageContent.append(t.list),t.menuPage.find("div .ui-title").text(t.label.getEncodedText()||t.placeholder)):(t.menuType="overlay",t.listbox.one({popupafteropen:e.proxy(this,"_focusMenuItem")}))},_buildList:function(){var t,n,o,a,s,r,l,h,c,u,d,p,m,f,g=this,v=this.options,b=this.placeholder,_=!0,y="data-"+e.mobile.ns,C=y+"option-index",w=y+"icon",x=y+"role",T=y+"placeholder",P=i.createDocumentFragment(),D=!1;for(g.list.empty().filter(".ui-listview").listview("destroy"),t=this._selectOptions(),n=t.length,o=this.select[0],s=0;s<n;s++,D=!1)r=t[s],l=e(r),l.hasClass("ui-screen-hidden")||(h=r.parentNode,d=[],c=l.text(),u=i.createElement("a"),u.setAttribute("href","#"),u.appendChild(i.createTextNode(c)),h!==o&&"optgroup"===h.nodeName.toLowerCase()&&(p=h.getAttribute("label"))!==a&&(m=i.createElement("li"),m.setAttribute(x,"list-divider"),m.setAttribute("role","option"),m.setAttribute("tabindex","-1"),m.appendChild(i.createTextNode(p)),P.appendChild(m),a=p),!_||r.getAttribute("value")&&0!==c.length&&!l.jqmData("placeholder")||(_=!1,D=!0,null===r.getAttribute(T)&&(this._removePlaceholderAttr=!0),r.setAttribute(T,!0),v.hidePlaceholderMenuItems&&d.push("ui-screen-hidden"),b!==c&&(b=g.placeholder=c)),f=i.createElement("li"),r.disabled&&(d.push("ui-state-disabled"),f.setAttribute("aria-disabled",!0)),f.setAttribute(C,s),f.setAttribute(w,"false"),D&&f.setAttribute(T,!0),f.className=d.join(" "),f.setAttribute("role","option"),u.setAttribute("tabindex","-1"),this.isMultiple&&e(u).addClass("ui-btn ui-checkbox-off ui-btn-icon-right"),f.appendChild(u),P.appendChild(f));g.list[0].appendChild(P),this.isMultiple||b.length?this.headerTitle.text(this.placeholder):this.header.addClass("ui-screen-hidden"),g.list.listview()},_button:function(){return this.options.nativeMenu?this._super():e("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.options.nativeMenu||(this.close(),void 0!==this._origTabIndex&&(!1!==this._origTabIndex?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+e.mobile.ns+"placeholder"),this.listbox.remove(),this.menuPage.remove()),this._super()}})}(e)});